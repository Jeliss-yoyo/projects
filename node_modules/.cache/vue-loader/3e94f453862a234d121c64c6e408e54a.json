{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\custom-made.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\custom-made.vue","mtime":1610602211234},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2dWVSZXNpYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvcmVzaXphYmxlL3Z1ZS1yZXNpemFibGUnOwpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnY3VzdG9tLW1hZGUnLAoJY29tcG9uZW50czogewoJCXZ1ZVJlc2lhYmxlCgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQkvLyDlvZPliY3pobnnm67kv6Hmga8KCQkJcHJvamVjdDogdGhpcy4kc3RvcmUuc3RhdGUucHJvamVjdCwKCQkJLy8gY3VzdG9tLW1hZGUg5a655Zmo5bC65a+4CgkJCXdyYXBTaXplOiBbXSwKCQkJLy8g6Jma5ouf5aSn5bGP55qE5bC65a+4CgkJCXZTY3JlZW5TaXplOiBbXSwKCQkJLy8g5b2T5YmN57yp5pS+5q+U5L6LCgkJCXZTY2FsZTogMQoJCX0KCX0sCgltb3VudGVkKCkgewoJCXRoaXMuZ2V0V3JhcFNpemUoKTsKCQl0aGlzLnNldFZpcnR1YWxTY3JlZW4oKTsKCX0sCgltZXRob2RzOiB7CgkJLy8g6I635Y+WIGN1c3RvbS1tYWRlIOWuueWZqOWwuuWvuAoJCWdldFdyYXBTaXplKCkgewoJCQljb25zdCB3cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1c3RvbS1tYWRlJyk7CgkJCWNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUod3JhcCwgbnVsbCk7CgkJCXRoaXMud3JhcFNpemUgPSBbcGFyc2VGbG9hdChzdHlsZS53aWR0aCksIHBhcnNlRmxvYXQoc3R5bGUuaGVpZ2h0KV07CgkJfSwKCQkvLyDorr7nva7omZrmi5/lpKflsY/vvIjmoLnmja7pobnnm67liIbovqjnjofvvIzku6XkuIDlrprnmoTns7vmlbDov5vooYznrYnmr5TnvKnmlL7vvIkKCQlzZXRWaXJ0dWFsU2NyZWVuKCkgewoJCQljb25zdCBbcHcsIHBoXSA9IHRoaXMucHJvamVjdC5yZXNvbHV0aW9uOwoJCQljb25zdCBbcncsIHJoXSA9IHRoaXMud3JhcFNpemU7CgkJCWxldCB2c3csIHZzaCwgc2NhbGU7CgkJCS8vIOiuoeeul+acgOS9s+eahOiZmuaLn+Wkp+Wxj+WwuuWvuOS7peWPiue8qeaUvuezu+aVsAoJCQlpZiAocncgLyByaCA8PSBwdyAvIHBoKSB7CgkJCQl2c3cgPSBydzsKCQkJCXZzaCA9IHZzdyAqIHBoIC8gcHc7CgkJCX0gZWxzZSB7CgkJCQl2c2ggPSByaDsKCQkJCXZzdyA9IHZzaCAqIHB3IC8gcGg7CgkJCX0KCQkJc2NhbGUgPSB2c3cgLyBwdzsKCQkJdGhpcy52U2NhbGUgPSBzY2FsZTsKCQkJY29uc3QgdlNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2aXJ0dWFsLXNjcmVlbicpOwoJCQl2U2NyZWVuLnN0eWxlLmNzc1RleHQgPSBgCgkJCQl3aWR0aDogJHsgdnN3IC8gc2NhbGUgfXB4OyAKCQkJCWhlaWdodDogJHsgdnNoIC8gc2NhbGUgfXB4OwoJCQkJdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoJHsgc2NhbGUgfSk7CgkJCWA7CgkJfSwKCQlnZXRCb3hpbmZvKGwsIHQsIHcsIGgpIHsKCQkJY29uc29sZS5sb2coJ2JveDonLCBsLCB0LCB3LCBoKTsKCQl9Cgl9Cn0K"},{"version":3,"sources":["custom-made.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"custom-made.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n\t<!-- 可视化定制区域 -->\n\t<div id=\"custom-made\">\n\t\t<!-- 虚拟大屏 -->\n\t\t<div id=\"virtual-screen\">\n\t\t\t<vueResiable></vueResiable>\n\t\t\t<vueResiable :scaleRatio=\"vScale\" @resizing=\"getBoxinfo\"></vueResiable>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport vueResiable from '@/components/resizable/vue-resizable';\n\texport default {\n\t\tname: 'custom-made',\n\t\tcomponents: {\n\t\t\tvueResiable\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 当前项目信息\n\t\t\t\tproject: this.$store.state.project,\n\t\t\t\t// custom-made 容器尺寸\n\t\t\t\twrapSize: [],\n\t\t\t\t// 虚拟大屏的尺寸\n\t\t\t\tvScreenSize: [],\n\t\t\t\t// 当前缩放比例\n\t\t\t\tvScale: 1\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getWrapSize();\n\t\t\tthis.setVirtualScreen();\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取 custom-made 容器尺寸\n\t\t\tgetWrapSize() {\n\t\t\t\tconst wrap = document.querySelector('#custom-made');\n\t\t\t\tconst style = window.getComputedStyle(wrap, null);\n\t\t\t\tthis.wrapSize = [parseFloat(style.width), parseFloat(style.height)];\n\t\t\t},\n\t\t\t// 设置虚拟大屏（根据项目分辨率，以一定的系数进行等比缩放）\n\t\t\tsetVirtualScreen() {\n\t\t\t\tconst [pw, ph] = this.project.resolution;\n\t\t\t\tconst [rw, rh] = this.wrapSize;\n\t\t\t\tlet vsw, vsh, scale;\n\t\t\t\t// 计算最佳的虚拟大屏尺寸以及缩放系数\n\t\t\t\tif (rw / rh <= pw / ph) {\n\t\t\t\t\tvsw = rw;\n\t\t\t\t\tvsh = vsw * ph / pw;\n\t\t\t\t} else {\n\t\t\t\t\tvsh = rh;\n\t\t\t\t\tvsw = vsh * pw / ph;\n\t\t\t\t}\n\t\t\t\tscale = vsw / pw;\n\t\t\t\tthis.vScale = scale;\n\t\t\t\tconst vScreen = document.querySelector('#virtual-screen');\n\t\t\t\tvScreen.style.cssText = `\n\t\t\t\t\twidth: ${ vsw / scale }px; \n\t\t\t\t\theight: ${ vsh / scale }px;\n\t\t\t\t\ttransform: translate(-50%, -50%) scale(${ scale });\n\t\t\t\t`;\n\t\t\t},\n\t\t\tgetBoxinfo(l, t, w, h) {\n\t\t\t\tconsole.log('box:', l, t, w, h);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t#custom-made {\n\t\tposition: relative;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tborder: 1px solid yellow;\n\t}\n\t#virtual-screen {\n\t\tbackground-color: rgba(255, 255, 255, 0.2);\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t}\n</style>\n"]}]}