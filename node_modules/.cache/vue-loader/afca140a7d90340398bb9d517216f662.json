{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\panel-right\\config-items\\Toolbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\panel-right\\config-items\\Toolbox.vue","mtime":1575807586849},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1607477892317},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1609899827306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVFdmVudCBmcm9tICdAL2Fzc2V0cy9kZXNpZ24vanMvdnVlLWV2ZW50LmpzJzsKaW1wb3J0ICR0b29scyBmcm9tICdAL2Fzc2V0cy9kZXNpZ24vanMvdG9vbHMuanMnOwpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCXRvb2xib3g6IHsKCQkJCWZlYXR1cmU6IHsKCQkJCQlzYXZlQXNJbWFnZToge30sCgkJCQkJcmVzdG9yZToge30sCgkJCQkJZGF0YVZpZXc6IHt9LAoJCQkJCWRhdGFab29tOiB7fSwKCQkJCQltYWdpY1R5cGU6IHt9CgkJCQl9CgkJCX0sCgkJCS8vIGVjaGFydHMg5bGe5oCn5a+56LGhCgkJCWVsZW1FY09wdHM6IHt9LAoJCQkvLyDlvZPliY3mv4DmtLvlhYPntKDnmoRJRAoJCQllbGVtSUQ6ICcnCgkJfQoJfSwKCW1vdW50ZWQoKSB7CgkJVnVlRXZlbnQuJG9uKCckd2VicHB0LWRhdGEnLCB3ZWJwcHQgPT4gewoJCQlsZXQgYWN0aXZlID0gJHRvb2xzLmFmeEdldEFjdGl2ZUVsZW0uY2FsbCh0aGlzLCB3ZWJwcHQpOwoJCQlpZighYWN0aXZlKSByZXR1cm47CgkJCXRoaXMuZWxlbUVjT3B0cyA9IGFjdGl2ZS5lbGVtRWNPcHRzOwoJCQl0aGlzLnRvb2xib3ggPSBhY3RpdmUuZWxlbUVjT3B0cy50b29sYm94OwoJCQl0aGlzLmVsZW1JRCA9IGFjdGl2ZS5lbGVtSUQ7CgkJfSk7Cgl9LAoJbWV0aG9kczogewoJCS8vIOWKqOaAgeexu+Wei+WIh+aNoueahOaVsOaNruWkhOeQhgoJCWZvck1hZ2ljVHlwZSh0KSB7CgkJCWxldCBtdHlwZSA9IHRoaXMudG9vbGJveC5mZWF0dXJlLm1hZ2ljVHlwZS50eXBlLAoJCQkJaXNvayA9IG10eXBlLmluY2x1ZGVzKHQpOwoJCQlsZXQgc2V0ID0gbmV3IFNldChtdHlwZSk7CgkJCWlzb2sgPyBzZXQuZGVsZXRlKHQpIDogc2V0LmFkZCh0KTsKCQkJdGhpcy50b29sYm94LmZlYXR1cmUubWFnaWNUeXBlLnR5cGUgPSBBcnJheS5mcm9tKHNldCk7CgkJCXRoaXMuJGZvcmNlVXBkYXRlKCk7CgkJfSwKCQkvLyDliqjmgIHnsbvlnovliIfmjaLmlbDnu4TkuK3mmK/lkKblkKvmnIkgeHgg57G75Z6LCgkJaXNFeGlzdCh0KSB7CgkJCXJldHVybiB0aGlzLnRvb2xib3guZmVhdHVyZS5tYWdpY1R5cGUudHlwZS5pbmNsdWRlcyh0KTsKCQl9LAoJCS8vIOihqOWNleebkeWQrAoJCWZvcm1MaXN0ZW5lcigpIHsKCQkJaWYoIXRoaXMuZWxlbUlEKSByZXR1cm4gdGhpcy50b29sYm94OwoJCQkvLyDojrflj5YgZWNoYXJ0cyDlt6XlhbfnsbsKCQkJbGV0ICRlYyA9ICR0b29scy5lY2hhcnRzVG9vbHMoKTsKCQkJLy8g6I635Y+W5b2T5YmN5YWD57Sg55qEIGVjaGFydHMg5Yid5aeL5YyW5a+56LGhCgkJCWxldCBlY0luaXRPYmogPSAkLmVjSW5pdE9ianNbdGhpcy5lbGVtSURdOwoJCQkvLyBlY2hhcnRzIOWbvuihqOmHjee7mAoJCQkkZWMucmVuZGVyKGVjSW5pdE9iaiwgdGhpcy5lbGVtRWNPcHRzKTsKCQkJcmV0dXJuIHRoaXMudG9vbGJveDsKCQl9Cgl9Cn0K"},{"version":3,"sources":["Toolbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Toolbox.vue","sourceRoot":"src/components/layout/panel-right/config-items","sourcesContent":["<template>\r\n\t<!-- toolbox配置 -->\r\n\t<div class=\"ec-toolbox\">\r\n\t\t<el-collapse accordion>\r\n\t\t\t<el-collapse-item title=\"工具栏\" name=\"vt-toolbox\">\r\n\t\t\t\t<el-form ref=\"form\" :model=\"formListener()\" label-width=\"100px\">\r\n\t\t\t\t\t<el-form-item label=\"图片保存\">\r\n\t\t\t\t\t\t<el-switch v-model=\"toolbox.feature.saveAsImage.show\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"状态还原\">\r\n\t\t\t\t\t\t<el-switch v-model=\"toolbox.feature.restore.show\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"数据视图\">\r\n\t\t\t\t\t\t<el-switch v-model=\"toolbox.feature.dataView.show\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"x轴区域缩放\">\r\n\t\t\t\t\t\t<el-switch v-model=\"toolbox.feature.dataZoom.show\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-collapse accordion>\r\n\t\t\t\t\t\t<el-collapse-item title=\"动态类型切换\" name=\"vt-magicType\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"是否启用\">\r\n\t\t\t\t\t\t\t\t<el-switch v-model=\"toolbox.feature.magicType.show\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<!-- 动态类型切换的选项 -->\r\n\t\t\t\t\t\t\t<div v-if=\"toolbox.feature.magicType.show\">\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"折线图\">\r\n\t\t\t\t\t\t\t\t\t<el-switch :value=\"isExist('line')\" @change=\"forMagicType('line')\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"柱状图\">\r\n\t\t\t\t\t\t\t\t\t<el-switch :value=\"isExist('bar')\" @change=\"forMagicType('bar')\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"堆叠模式\">\r\n\t\t\t\t\t\t\t\t\t<el-switch :value=\"isExist('stack')\" @change=\"forMagicType('stack')\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t\t<el-form-item label=\"平铺模式\">\r\n\t\t\t\t\t\t\t\t\t<el-switch :value=\"isExist('tiled')\" @change=\"forMagicType('tiled')\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-collapse-item>\r\n\t\t\t\t\t</el-collapse>\r\n\t\t\t\t\t\r\n\t\t\t\t</el-form>\r\n\t\t\t</el-collapse-item>\r\n\t\t</el-collapse>\r\n\t</div>\n</template>\n\n<script>\r\n\timport VueEvent from '@/assets/design/js/vue-event.js';\r\n\timport $tools from '@/assets/design/js/tools.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttoolbox: {\r\n\t\t\t\t\tfeature: {\r\n\t\t\t\t\t\tsaveAsImage: {},\r\n\t\t\t\t\t\trestore: {},\r\n\t\t\t\t\t\tdataView: {},\r\n\t\t\t\t\t\tdataZoom: {},\r\n\t\t\t\t\t\tmagicType: {}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// echarts 属性对象\r\n\t\t\t\telemEcOpts: {},\r\n\t\t\t\t// 当前激活元素的ID\r\n\t\t\t\telemID: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tVueEvent.$on('$webppt-data', webppt => {\r\n\t\t\t\tlet active = $tools.afxGetActiveElem.call(this, webppt);\r\n\t\t\t\tif(!active) return;\r\n\t\t\t\tthis.elemEcOpts = active.elemEcOpts;\r\n\t\t\t\tthis.toolbox = active.elemEcOpts.toolbox;\r\n\t\t\t\tthis.elemID = active.elemID;\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 动态类型切换的数据处理\r\n\t\t\tforMagicType(t) {\r\n\t\t\t\tlet mtype = this.toolbox.feature.magicType.type,\r\n\t\t\t\t\tisok = mtype.includes(t);\r\n\t\t\t\tlet set = new Set(mtype);\r\n\t\t\t\tisok ? set.delete(t) : set.add(t);\r\n\t\t\t\tthis.toolbox.feature.magicType.type = Array.from(set);\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t// 动态类型切换数组中是否含有 xx 类型\r\n\t\t\tisExist(t) {\r\n\t\t\t\treturn this.toolbox.feature.magicType.type.includes(t);\r\n\t\t\t},\r\n\t\t\t// 表单监听\r\n\t\t\tformListener() {\r\n\t\t\t\tif(!this.elemID) return this.toolbox;\r\n\t\t\t\t// 获取 echarts 工具类\r\n\t\t\t\tlet $ec = $tools.echartsTools();\r\n\t\t\t\t// 获取当前元素的 echarts 初始化对象\r\n\t\t\t\tlet ecInitObj = $.ecInitObjs[this.elemID];\r\n\t\t\t\t// echarts 图表重绘\r\n\t\t\t\t$ec.render(ecInitObj, this.elemEcOpts);\r\n\t\t\t\treturn this.toolbox;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t\n</style>\n"]}]}