{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\nav-menu\\charts-items.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\nav-menu\\charts-items.vue","mtime":1610625290297},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1607477892317},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1609899827306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGlUb29scyB9IGZyb20gJ0AvdXRpbHMvdG9vbHMnOwoKZXhwb3J0IGRlZmF1bHQgewoJcHJvcHM6IHsKCQluYXZpZ2F0aW9uOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJcmVxdWlyZWQ6IHRydWUKCQl9Cgl9LAoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQkvLyDlm77niYfmmKDlsIQKCQkJcGljTWFwOiB7fSwKCQkJLy8g5b2T5YmN5r+A5rS755qE6I+c5Y2VCgkJCWFjdGl2ZTogewoJCQkJbWVudTogJycsCgkJCQlkYXRhOiBbXQoJCQl9LAoJCQkvLyDotYTmupDku5PlupMKCQkJcmVzb3VyY2U6IHt9LAoJCQkvLyDphY3nva7mlbDmja4KCQkJaXRlbURhdGE6IHt9CgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJLy8g6I635Y+W6I+c5Y2V6aG55pWw5o2uCgkJdGhpcy5nZXRNZW51SXRlbXMoKTsKCX0sCgljb21wdXRlZDogewoJCS8vIOW9k+WJjemhueebruS/oeaBrwoJCXByb2plY3QoKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLl9wcm9qZWN0OwoJCX0sCgkJLy8g5bCG5pWw5o2u5qC85byP5YyW5Li65LiA5Liq5LqM57u05pWw57uELCDmlrnkvr/ku6XkuIDooYzkuInliJflsZXnpLoKCQlmb3JtYXREYXRhKCkgewoJCQlsZXQgY3VyRGF0YSA9IHRoaXMuaXRlbURhdGFbdGhpcy5uYXZpZ2F0aW9uXTsKCQkJaWYoIWN1ckRhdGEpIHJldHVybiB7fTsKCQkJY29uc3QgbWVudSA9IHRoaXMuYWN0aXZlLm1lbnU7CgkJCWlmKHRoaXMucmVzb3VyY2VbbWVudV0pewoJCQkJcmV0dXJuIHRoaXMucmVzb3VyY2VbbWVudV07CgkJCX1lbHNlewoJCQkJbGV0IGRhdGEgPSBjdXJEYXRhW21lbnVdLml0ZW0sCgkJCQkJcm93cyA9IE1hdGguY2VpbChkYXRhLmxlbmd0aCAvIDMpLAoJCQkJCXJlcyA9IFtdOwoJCQkJZm9yKGxldCBpPTA7IGk8cm93czsgaSsrKSB7CgkJCQkJbGV0IG8gPSBkYXRhLnNwbGljZSgwLCAzKTsKCQkJCQlyZXMucHVzaChvLmxlbmd0aCA8IDMgPyBvLmNvbmNhdChbe30sIHt9XSkuc3BsaWNlKDAsIDMpIDogbyk7CgkJCQl9CgkJCQl0aGlzLnJlc291cmNlW21lbnVdID0gcmVzOwoJCQkJcmV0dXJuIHJlczsKCQkJfQoJCX0sCgkJZm9ybWF0dGVyQnRucygpIHsKCQkJcmV0dXJuIHRoaXMuaXRlbURhdGFbdGhpcy5uYXZpZ2F0aW9uXSB8fCB7fTsKCQl9Cgl9LAoJbWV0aG9kczogewoJCS8vIOiOt+WPluiPnOWNlemhueaVsOaNrgoJCWFzeW5jIGdldE1lbnVJdGVtcygpIHsKCQkJY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJ25hdi1jaGFydHMtZGF0YS5qc29uJyk7CgkJCXRoaXMuaXRlbURhdGEgPSBkYXRhOwoJCQl0aGlzLmFjdGl2ZS5tZW51ID0gT2JqZWN0LmtleXModGhpcy5pdGVtRGF0YVt0aGlzLm5hdmlnYXRpb25dKVswXTsKCQl9LAoJCS8vIOiPnOWNleWIh+aNogoJCW1lbnVDaGFuZ2UobSkgewoJCQl0aGlzLmFjdGl2ZS5tZW51ID0gbTsKCQl9LAoJCS8vIOWQkeW9k+WJjeW5u+eBr+eJh+eahOWFg+e0oOWIl+ihqOS4rea3u+WKoOS4gOS4que7hOS7tu+8iOWbvuihqO+8iQoJCWFkZEVsZW1lbnQoaXRlbSkgewoJCQkvLyDpobnnm67lsLrlr7gKCQkJY29uc3QgW3B3LCBwaF0gPSB0aGlzLnByb2plY3QucmVzb2x1dGlvbjsKCQkJLy8g5a6e5L6L5YyW5LiA5Liq5YWD57SgCgkJCWNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgaVRvb2xzLl9FbGVtZW50KHsKCQkJCWVsZU5hbWU6IGl0ZW0ubmFtZSwKCQkJCWNvbXBvbmVudDogaXRlbS5jb21wb25lbnQsCgkJCQlsZWZ0OiAocHcgLSAyMDApIC8gMiwKCQkJCXRvcDogKHBoIC0gMjAwKSAvIDIKCQkJfSk7CgkJCS8vIOa3u+WKoOWFg+e0oAoJCQl0aGlzLiRzdG9yZS5jb21taXQoJ19hZGRFbGVtZW50JywgbmV3RWxlbWVudCk7CgkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5oiQ5Yqf77yB5re75Yqg5LqG5LiA5Liq5YWD57Sg77ya44CQJHsgaXRlbS5uYW1lIH3jgJFgKTsKCQl9Cgl9Cn0K"},{"version":3,"sources":["charts-items.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"charts-items.vue","sourceRoot":"src/components/layout/nav-menu","sourcesContent":["<template>\r\n\t<!-- 导航面板 -->\r\n\t<div id=\"charts-items\">\r\n\t\t<el-container>\r\n\t\t\t<!-- 左侧导航 -->\r\n\t\t\t<el-aside width=\"56px\">\r\n\t\t\t\t<el-menu text-color=\"#fff\" background-color=\"#2a2e35\" active-text-color=\"#ffd04b\" :default-active=\"active.menu\" collapse>\r\n\t\t\t\t\t<!-- 垂直导航按钮 -->\r\n\t\t\t\t\t<el-menu-item v-for=\"(c, i) in formatterBtns\" :index=\"i\" :key=\"i\" @click=\"menuChange(i)\">\r\n\t\t\t\t\t\t<i :class=\"'iconfont ' + c.icon\"></i>\r\n\t\t\t\t\t</el-menu-item>\r\n\t\t\t\t</el-menu>\r\n\t\t\t</el-aside>\r\n\t\t\t<!-- 图表内容区域 -->\r\n\t\t\t<el-main>\r\n\t\t\t\t<!-- 一行三列展示 -->\r\n\t\t\t\t<el-row v-for=\"(row, ridx) in formatData\" :gutter=\"10\" :key=\"ridx\">\r\n\t\t\t\t\t<el-col v-for=\"(col, cidx) in row\" :span=\"8\" :key=\"cidx\">\r\n\t\t\t\t\t\t<el-card shadow=\"hover\" :body-style=\"{ padding: '5px', display: col.name ? 'block' : 'none' }\">\r\n\t\t\t\t\t\t\t<img src=\"../../../assets/img/thumbnail/bar-01.png\" class=\"image\" \r\n\t\t\t\t\t\t\t\t@click=\"addElement({ name: col.name, component: col.component })\">\r\n\t\t\t\t\t\t\t<div class=\"chart-name\">{{ col.name }}</div>\r\n\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t</el-col>\r\n\t\t\t\t</el-row>\r\n\t\t\t</el-main>\r\n\t\t</el-container>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { iTools } from '@/utils/tools';\n\t\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tnavigation: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\trequired: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 图片映射\r\n\t\t\t\tpicMap: {},\r\n\t\t\t\t// 当前激活的菜单\r\n\t\t\t\tactive: {\r\n\t\t\t\t\tmenu: '',\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t},\r\n\t\t\t\t// 资源仓库\r\n\t\t\t\tresource: {},\r\n\t\t\t\t// 配置数据\r\n\t\t\t\titemData: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 获取菜单项数据\r\n\t\t\tthis.getMenuItems();\r\n\t\t},\r\n\t\tcomputed: {\n\t\t\t// 当前项目信息\n\t\t\tproject() {\n\t\t\t\treturn this.$store.getters._project;\n\t\t\t},\r\n\t\t\t// 将数据格式化为一个二维数组, 方便以一行三列展示\r\n\t\t\tformatData() {\r\n\t\t\t\tlet curData = this.itemData[this.navigation];\r\n\t\t\t\tif(!curData) return {};\r\n\t\t\t\tconst menu = this.active.menu;\r\n\t\t\t\tif(this.resource[menu]){\r\n\t\t\t\t\treturn this.resource[menu];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet data = curData[menu].item,\r\n\t\t\t\t\t\trows = Math.ceil(data.length / 3),\r\n\t\t\t\t\t\tres = [];\r\n\t\t\t\t\tfor(let i=0; i<rows; i++) {\r\n\t\t\t\t\t\tlet o = data.splice(0, 3);\r\n\t\t\t\t\t\tres.push(o.length < 3 ? o.concat([{}, {}]).splice(0, 3) : o);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.resource[menu] = res;\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tformatterBtns() {\r\n\t\t\t\treturn this.itemData[this.navigation] || {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取菜单项数据\r\n\t\t\tasync getMenuItems() {\r\n\t\t\t\tconst { data } = await this.$axios.get('nav-charts-data.json');\r\n\t\t\t\tthis.itemData = data;\r\n\t\t\t\tthis.active.menu = Object.keys(this.itemData[this.navigation])[0];\r\n\t\t\t},\r\n\t\t\t// 菜单切换\r\n\t\t\tmenuChange(m) {\r\n\t\t\t\tthis.active.menu = m;\r\n\t\t\t},\r\n\t\t\t// 向当前幻灯片的元素列表中添加一个组件（图表）\r\n\t\t\taddElement(item) {\n\t\t\t\t// 项目尺寸\n\t\t\t\tconst [pw, ph] = this.project.resolution;\n\t\t\t\t// 实例化一个元素\n\t\t\t\tconst newElement = new iTools._Element({\n\t\t\t\t\teleName: item.name,\n\t\t\t\t\tcomponent: item.component,\n\t\t\t\t\tleft: (pw - 200) / 2,\n\t\t\t\t\ttop: (ph - 200) / 2\n\t\t\t\t});\r\n\t\t\t\t// 添加元素\n\t\t\t\tthis.$store.commit('_addElement', newElement);\n\t\t\t\tthis.$message.success(`成功！添加了一个元素：【${ item.name }】`);\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t@import './../../../assets/font-icon/iconfont.css';\n\t\r\n\t.el-container {\r\n\t\tmin-height: 240px;\r\n\t}\r\n\t.el-aside {\r\n\t\toverflow-x: hidden;\r\n\t}\r\n\t.el-main {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tbackground-color: #1b1f24;\r\n\t}\r\n\t.el-menu {\r\n\t\twidth: 56px;\r\n\t\theight: 100%;\r\n\t\tborder: none !important;\r\n\t\t.el-menu-item {\r\n\t\t\theight: 56px !important;\r\n\t\t\tline-height: 56px !important;\r\n\t\t}\r\n\t}\r\n\t.el-row {\r\n\t\tmargin: 5px 0 5px 0 !important;\r\n\t}\r\n\t.el-card {\r\n\t\tbackground-color: #282a30;\r\n\t\tborder: none;\r\n\t\twidth: 170px;\r\n\t\tcursor: pointer;\r\n\t\t.image {\r\n\t\t\twidth: 160px;\r\n\t\t\theight: 90px;\r\n\t\t}\r\n\t\t.chart-name {\r\n\t\t\tcolor: #ccc;\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}