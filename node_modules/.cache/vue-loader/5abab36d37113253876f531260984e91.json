{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\resizable\\vue-resizable.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\resizable\\vue-resizable.vue","mtime":1611052298585},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1607477892317},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1609899827306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgltYXRjaGVzU2VsZWN0b3JUb1BhcmVudEVsZW1lbnRzLAoJZ2V0Q29tcHV0ZWRTaXplLAoJYWRkRXZlbnQsCglyZW1vdmVFdmVudAp9IGZyb20gJ0AvdXRpbHMvcmVzaXphYmxlL2RvbScKaW1wb3J0IHsKCWNvbXB1dGVXaWR0aCwKCWNvbXB1dGVIZWlnaHQsCglyZXN0cmljdFRvQm91bmRzLAoJc25hcFRvR3JpZAp9IGZyb20gJ0AvdXRpbHMvcmVzaXphYmxlL2ZucycKCmNvbnN0IGV2ZW50cyA9IHsKCW1vdXNlOiB7CgkJc3RhcnQ6ICdtb3VzZWRvd24nLAoJCW1vdmU6ICdtb3VzZW1vdmUnLAoJCXN0b3A6ICdtb3VzZXVwJwoJfSwKCXRvdWNoOiB7CgkJc3RhcnQ6ICd0b3VjaHN0YXJ0JywKCQltb3ZlOiAndG91Y2htb3ZlJywKCQlzdG9wOiAndG91Y2hlbmQnCgl9Cn0KCi8vIOemgeatoueUqOaIt+mAieWPlgpjb25zdCB1c2VyU2VsZWN0Tm9uZSA9IHsKCXVzZXJTZWxlY3Q6ICdub25lJywKCU1velVzZXJTZWxlY3Q6ICdub25lJywKCVdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJywKCU1zVXNlclNlbGVjdDogJ25vbmUnCn0KLy8g55So5oi36YCJ5Lit6Ieq5YqoCmNvbnN0IHVzZXJTZWxlY3RBdXRvID0gewoJdXNlclNlbGVjdDogJ2F1dG8nLAoJTW96VXNlclNlbGVjdDogJ2F1dG8nLAoJV2Via2l0VXNlclNlbGVjdDogJ2F1dG8nLAoJTXNVc2VyU2VsZWN0OiAnYXV0bycKfQoKbGV0IGV2ZW50c0ZvciA9IGV2ZW50cy5tb3VzZQoKZXhwb3J0IGRlZmF1bHQgewoJcmVwbGFjZTogdHJ1ZSwKCW5hbWU6ICd2dWUtcmVzaXphYmxlJywKCXByb3BzOiB7CgkJY2xhc3NOYW1lOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogJ3ZkcicKCQl9LAoJCWNsYXNzTmFtZURyYWdnYWJsZTogewoJCQl0eXBlOiBTdHJpbmcsCgkJCWRlZmF1bHQ6ICdkcmFnZ2FibGUnCgkJfSwKCQljbGFzc05hbWVSZXNpemFibGU6IHsKCQkJdHlwZTogU3RyaW5nLAoJCQlkZWZhdWx0OiAncmVzaXphYmxlJwoJCX0sCgkJY2xhc3NOYW1lRHJhZ2dpbmc6IHsKCQkJdHlwZTogU3RyaW5nLAoJCQlkZWZhdWx0OiAnZHJhZ2dpbmcnCgkJfSwKCQljbGFzc05hbWVSZXNpemluZzogewoJCQl0eXBlOiBTdHJpbmcsCgkJCWRlZmF1bHQ6ICdyZXNpemluZycKCQl9LAoJCWNsYXNzTmFtZUFjdGl2ZTogewoJCQl0eXBlOiBTdHJpbmcsCgkJCWRlZmF1bHQ6ICdhY3RpdmUnCgkJfSwKCQljbGFzc05hbWVIYW5kbGU6IHsKCQkJdHlwZTogU3RyaW5nLAoJCQlkZWZhdWx0OiAnaGFuZGxlJwoJCX0sCgkJZGlzYWJsZVVzZXJTZWxlY3Q6IHsKCQkJdHlwZTogQm9vbGVhbiwKCQkJZGVmYXVsdDogdHJ1ZQoJCX0sCgkJZW5hYmxlTmF0aXZlRHJhZzogewoJCQl0eXBlOiBCb29sZWFuLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJcHJldmVudERlYWN0aXZhdGlvbjogewoJCQl0eXBlOiBCb29sZWFuLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJYWN0aXZlOiB7CgkJCXR5cGU6IEJvb2xlYW4sCgkJCWRlZmF1bHQ6IGZhbHNlCgkJfSwKCQlkcmFnZ2FibGU6IHsKCQkJdHlwZTogQm9vbGVhbiwKCQkJZGVmYXVsdDogdHJ1ZQoJCX0sCgkJcmVzaXphYmxlOiB7CgkJCXR5cGU6IEJvb2xlYW4sCgkJCWRlZmF1bHQ6IHRydWUKCQl9LAoJCS8vIOmUgeWumuWuvemrmOavlAoJCWxvY2tBc3BlY3RSYXRpbzogewoJCQl0eXBlOiBCb29sZWFuLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJdzogewoJCQl0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAoJCQlkZWZhdWx0OiAyMDAsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gewoJCQkJaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7CgkJCQkJcmV0dXJuIHZhbCA+IDAKCQkJCX0KCQkJCXJldHVybiB2YWwgPT09ICdhdXRvJwoJCQl9CgkJfSwKCQloOiB7CgkJCXR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCgkJCWRlZmF1bHQ6IDIwMCwKCQkJdmFsaWRhdG9yOiAodmFsKSA9PiB7CgkJCQlpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHsKCQkJCQlyZXR1cm4gdmFsID4gMAoJCQkJfQoJCQkJcmV0dXJuIHZhbCA9PT0gJ2F1dG8nCgkJCX0KCQl9LAoJCW1pbldpZHRoOiB7CgkJCXR5cGU6IE51bWJlciwKCQkJZGVmYXVsdDogMTAsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gdmFsID49IDAKCQl9LAoJCW1pbkhlaWdodDogewoJCQl0eXBlOiBOdW1iZXIsCgkJCWRlZmF1bHQ6IDEwLAoJCQl2YWxpZGF0b3I6ICh2YWwpID0+IHZhbCA+PSAwCgkJfSwKCQltYXhXaWR0aDogewoJCQl0eXBlOiBOdW1iZXIsCgkJCWRlZmF1bHQ6IG51bGwsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gdmFsID49IDAKCQl9LAoJCW1heEhlaWdodDogewoJCQl0eXBlOiBOdW1iZXIsCgkJCWRlZmF1bHQ6IG51bGwsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gdmFsID49IDAKCQl9LAoJCXg6IHsKCQkJdHlwZTogTnVtYmVyLAoJCQlkZWZhdWx0OiAwCgkJfSwKCQl5OiB7CgkJCXR5cGU6IE51bWJlciwKCQkJZGVmYXVsdDogMAoJCX0sCgkJejogewoJCQl0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAoJCQlkZWZhdWx0OiAnYXV0bycsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gdmFsID09PSAnYXV0bycgOiB2YWwgPj0gMCkKCQl9LAoJCWJnQ2xyOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogJ3JnYmEoMCwgMCwgMCwgMCknCgkJfSwKCQliZ0ltYWdlOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogJycKCQl9LAoJCWJnU2l6ZTogewoJCQl0eXBlOiBTdHJpbmcsCgkJCWRlZmF1bHQ6ICcnCgkJfSwKCQkvLyDnu4Tku7blhoXlrrnvvIjnu4Tku7ZJRO+8iQoJCWVsZUlkOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogJycKCQl9LAoJCWhhbmRsZXM6IHsKCQkJdHlwZTogQXJyYXksCgkJCWRlZmF1bHQ6ICgpID0+IFsndGwnLCAndG0nLCAndHInLCAnbXInLCAnYnInLCAnYm0nLCAnYmwnLCAnbWwnXSwKCQkJdmFsaWRhdG9yOiAodmFsKSA9PiB7CgkJCQljb25zdCBzID0gbmV3IFNldChbJ3RsJywgJ3RtJywgJ3RyJywgJ21yJywgJ2JyJywgJ2JtJywgJ2JsJywgJ21sJ10pCgoJCQkJcmV0dXJuIG5ldyBTZXQodmFsLmZpbHRlcihoID0+IHMuaGFzKGgpKSkuc2l6ZSA9PT0gdmFsLmxlbmd0aAoJCQl9CgkJfSwKCQlkcmFnSGFuZGxlOiB7CgkJCXR5cGU6IFN0cmluZywKCQkJZGVmYXVsdDogbnVsbAoJCX0sCgkJZHJhZ0NhbmNlbDogewoJCQl0eXBlOiBTdHJpbmcsCgkJCWRlZmF1bHQ6IG51bGwKCQl9LAoJCWF4aXM6IHsKCQkJdHlwZTogU3RyaW5nLAoJCQlkZWZhdWx0OiAnYm90aCcsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gWyd4JywgJ3knLCAnYm90aCddLmluY2x1ZGVzKHZhbCkKCQl9LAoJCWdyaWQ6IHsKCQkJdHlwZTogQXJyYXksCgkJCWRlZmF1bHQ6ICgpID0+IFsxLCAxXQoJCX0sCgkJcGFyZW50OiB7CgkJCXR5cGU6IFtCb29sZWFuLCBTdHJpbmddLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJb25EcmFnU3RhcnQ6IHsKCQkJdHlwZTogRnVuY3Rpb24sCgkJCWRlZmF1bHQ6ICgpID0+IHRydWUKCQl9LAoJCW9uRHJhZzogewoJCQl0eXBlOiBGdW5jdGlvbiwKCQkJZGVmYXVsdDogKCkgPT4gdHJ1ZQoJCX0sCgkJb25SZXNpemVTdGFydDogewoJCQl0eXBlOiBGdW5jdGlvbiwKCQkJZGVmYXVsdDogKCkgPT4gdHJ1ZQoJCX0sCgkJb25SZXNpemU6IHsKCQkJdHlwZTogRnVuY3Rpb24sCgkJCWRlZmF1bHQ6ICgpID0+IHRydWUKCQl9LAoJCS8vIOWGsueqgeajgOa1iwoJCWlzQ29uZmxpY3RDaGVjazogewoJCQl0eXBlOiBCb29sZWFuLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJLy8g5YWD57Sg5a+56b2QCgkJc25hcDogewoJCQl0eXBlOiBCb29sZWFuLAoJCQlkZWZhdWx0OiBmYWxzZQoJCX0sCgkJLy8g5b2T6LCD55So5a+56b2Q5pe277yM55So5p2l6K6+572u57uE5Lu25LiO57uE5Lu25LmL6Ze055qE5a+56b2Q6Led56a777yM5Lul5YOP57Sg5Li65Y2V5L2NCgkJc25hcFRvbGVyYW5jZTogewoJCQl0eXBlOiBOdW1iZXIsCgkJCWRlZmF1bHQ6IDUsCgkJCXZhbGlkYXRvcjogZnVuY3Rpb24odmFsKSB7CgkJCQlyZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicKCQkJfQoJCX0sCgkJLy8g57yp5pS+5q+U5L6LCgkJc2NhbGVSYXRpbzogewoJCQl0eXBlOiBOdW1iZXIsCgkJCWRlZmF1bHQ6IDEsCgkJCXZhbGlkYXRvcjogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicKCQl9LAoJCS8vIGhhbmRsZeaYr+WQpue8qeaUvgoJCWhhbmRsZUluZm86IHsKCQkJdHlwZTogT2JqZWN0LAoJCQlkZWZhdWx0OiAoKSA9PiB7CgkJCQlyZXR1cm4gewoJCQkJCXNpemU6IDYsCgkJCQkJb2Zmc2V0OiAtNSwKCQkJCQlzd2l0Y2g6IHRydWUKCQkJCX0KCQkJfQoJCX0KCX0sCgoJZGF0YTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHsKCQkJbGVmdDogdGhpcy54LAoJCQl0b3A6IHRoaXMueSwKCQkJcmlnaHQ6IG51bGwsCgkJCWJvdHRvbTogbnVsbCwKCgkJCXdpZHRoOiBudWxsLAoJCQloZWlnaHQ6IG51bGwsCgkJCXdpZHRoVG91Y2hlZDogZmFsc2UsCgkJCWhlaWdodFRvdWNoZWQ6IGZhbHNlLAoJCQlhc3BlY3RGYWN0b3I6IG51bGwsCgoJCQlwYXJlbnRXaWR0aDogbnVsbCwKCQkJcGFyZW50SGVpZ2h0OiBudWxsLAoKCQkJbWluVzogdGhpcy5taW5XaWR0aCwKCQkJbWluSDogdGhpcy5taW5IZWlnaHQsCgoJCQltYXhXOiB0aGlzLm1heFdpZHRoLAoJCQltYXhIOiB0aGlzLm1heEhlaWdodCwKCgkJCWhhbmRsZTogbnVsbCwKCQkJZW5hYmxlZDogdGhpcy5hY3RpdmUsCgkJCXJlc2l6aW5nOiBmYWxzZSwKCQkJZHJhZ2dpbmc6IGZhbHNlLAoJCQl6SW5kZXg6IHRoaXMuegoJCX0KCX0sCgoJY3JlYXRlZDogZnVuY3Rpb24oKSB7CgkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIOaXoOaViOeahHByb3DvvJptaW5XaWR0aOS4jeiDveWkp+S6jm1heFdpZHRoCgkJaWYgKHRoaXMubWF4V2lkdGggJiYgdGhpcy5taW5XaWR0aCA+IHRoaXMubWF4V2lkdGgpIGNvbnNvbGUud2FybigKCQkJJ1tWZHIgd2Fybl06IEludmFsaWQgcHJvcDogbWluV2lkdGggY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXhXaWR0aCcpCgkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIOaXoOaViHByb3DvvJptaW5IZWlnaHTkuI3og73lpKfkuo5tYXhIZWlnaHQnCgkJaWYgKHRoaXMubWF4V2lkdGggJiYgdGhpcy5taW5IZWlnaHQgPiB0aGlzLm1heEhlaWdodCkgY29uc29sZS53YXJuKAoJCQknW1ZkciB3YXJuXTogSW52YWxpZCBwcm9wOiBtaW5IZWlnaHQgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXhIZWlnaHQnKQoKCQl0aGlzLnJlc2V0Qm91bmRzQW5kTW91c2VTdGF0ZSgpCgl9LAoJbW91bnRlZDogZnVuY3Rpb24oKSB7CgkJaWYgKCF0aGlzLmVuYWJsZU5hdGl2ZURyYWcpIHsKCQkJdGhpcy4kZWwub25kcmFnc3RhcnQgPSAoKSA9PiBmYWxzZQoJCX0KCgkJY29uc3QgW3BhcmVudFdpZHRoLCBwYXJlbnRIZWlnaHRdID0gdGhpcy5nZXRQYXJlbnRTaXplKCkKCgkJdGhpcy5wYXJlbnRXaWR0aCA9IHBhcmVudFdpZHRoCgkJdGhpcy5wYXJlbnRIZWlnaHQgPSBwYXJlbnRIZWlnaHQKCQljb25zdCBbd2lkdGgsIGhlaWdodF0gPSBnZXRDb21wdXRlZFNpemUodGhpcy4kZWwpCgkJdGhpcy5hc3BlY3RGYWN0b3IgPSAodGhpcy53ICE9PSAnYXV0bycgPyB0aGlzLncgOiB3aWR0aCkgLyAodGhpcy5oICE9PSAnYXV0bycgPyB0aGlzLmggOiBoZWlnaHQpCgkJdGhpcy53aWR0aCA9IHRoaXMudyAhPT0gJ2F1dG8nID8gdGhpcy53IDogd2lkdGgKCQl0aGlzLmhlaWdodCA9IHRoaXMuaCAhPT0gJ2F1dG8nID8gdGhpcy5oIDogaGVpZ2h0CgkJdGhpcy5yaWdodCA9IHRoaXMucGFyZW50V2lkdGggLSB0aGlzLndpZHRoIC0gdGhpcy5sZWZ0CgkJdGhpcy5ib3R0b20gPSB0aGlzLnBhcmVudEhlaWdodCAtIHRoaXMuaGVpZ2h0IC0gdGhpcy50b3AKCgkJdGhpcy5zZXR0aW5nQXR0cmlidXRlKCkKCgkJYWRkRXZlbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2Vkb3duJywgdGhpcy5kZXNlbGVjdCkKCQlhZGRFdmVudChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuZGVzZWxlY3QpCgoJCWFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuY2hlY2tQYXJlbnRTaXplKQoJfSwKCWJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uKCkgewoJCXJlbW92ZUV2ZW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ21vdXNlZG93bicsIHRoaXMuZGVzZWxlY3QpCgkJcmVtb3ZlRXZlbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVXApCgkJcmVtb3ZlRXZlbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbW91c2Vtb3ZlJywgdGhpcy5tb3ZlKQoJCXJlbW92ZUV2ZW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ3RvdWNobW92ZScsIHRoaXMubW92ZSkKCQlyZW1vdmVFdmVudChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICdtb3VzZXVwJywgdGhpcy5oYW5kbGVVcCkKCQlyZW1vdmVFdmVudChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICd0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIHRoaXMuZGVzZWxlY3QpCgoJCXJlbW92ZUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuY2hlY2tQYXJlbnRTaXplKQoJfSwKCgltZXRob2RzOiB7CgkJLy8g6YeN572u6L6555WM5ZKM6byg5qCH54q25oCBCgkJcmVzZXRCb3VuZHNBbmRNb3VzZVN0YXRlKCkgewoJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbiA9IHsKCQkJCW1vdXNlWDogMCwKCQkJCW1vdXNlWTogMCwKCQkJCXg6IDAsCgkJCQl5OiAwLAoJCQkJdzogMCwKCQkJCWg6IDAKCQkJfQoKCQkJdGhpcy5ib3VuZHMgPSB7CgkJCQltaW5MZWZ0OiBudWxsLAoJCQkJbWF4TGVmdDogbnVsbCwKCQkJCW1pblJpZ2h0OiBudWxsLAoJCQkJbWF4UmlnaHQ6IG51bGwsCgkJCQltaW5Ub3A6IG51bGwsCgkJCQltYXhUb3A6IG51bGwsCgkJCQltaW5Cb3R0b206IG51bGwsCgkJCQltYXhCb3R0b206IG51bGwKCQkJfQoJCX0sCgkJLy8g5qOA5p+l54i25YWD57Sg5aSn5bCPCgkJY2hlY2tQYXJlbnRTaXplKCkgewoJCQlpZiAodGhpcy5wYXJlbnQpIHsKCQkJCWNvbnN0IFtuZXdQYXJlbnRXaWR0aCwgbmV3UGFyZW50SGVpZ2h0XSA9IHRoaXMuZ2V0UGFyZW50U2l6ZSgpCgkJCQkvLyDkv67lpI3niLblhYPntKDmlLnlj5jlpKflsI/lkI7vvIznu4Tku7ZyZXNpemluZ+aXtua0u+WKqOW8guW4uAoJCQkJdGhpcy5yaWdodCA9IG5ld1BhcmVudFdpZHRoIC0gdGhpcy53aWR0aCAtIHRoaXMubGVmdAoJCQkJdGhpcy5ib3R0b20gPSBuZXdQYXJlbnRIZWlnaHQgLSB0aGlzLmhlaWdodCAtIHRoaXMudG9wCgoJCQkJdGhpcy5wYXJlbnRXaWR0aCA9IG5ld1BhcmVudFdpZHRoCgkJCQl0aGlzLnBhcmVudEhlaWdodCA9IG5ld1BhcmVudEhlaWdodAoJCQl9CgkJfSwKCQkvLyDojrflj5bniLblhYPntKDlpKflsI8KCQlnZXRQYXJlbnRTaXplKCkgewoJCQlpZiAodGhpcy5wYXJlbnQgPT09IHRydWUpIHsKCQkJCWNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy4kZWwucGFyZW50Tm9kZSwgbnVsbCkKCQkJCXJldHVybiBbCgkJCQkJcGFyc2VJbnQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKSwgMTApLAoJCQkJCXBhcnNlSW50KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpLCAxMCkKCQkJCV0KCQkJfQoJCQlpZiAodHlwZW9mIHRoaXMucGFyZW50ID09PSAnc3RyaW5nJykgewoJCQkJY29uc3QgcGFyZW50Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5wYXJlbnQpCgkJCQlpZiAoIShwYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7CgkJCQkJdGhyb3cgbmV3IEVycm9yKGBUaGUgc2VsZWN0b3IgJHt0aGlzLnBhcmVudH0gZG9lcyBub3QgbWF0Y2ggYW55IGVsZW1lbnRgKQoJCQkJfQoJCQkJcmV0dXJuIFtwYXJlbnROb2RlLm9mZnNldFdpZHRoLCBwYXJlbnROb2RlLm9mZnNldEhlaWdodF0KCQkJfQoKCQkJcmV0dXJuIFtudWxsLCBudWxsXQoJCX0sCgkJLy8g5YWD57Sg6Kem5pG45oyJ5LiLCgkJZWxlbWVudFRvdWNoRG93bihlKSB7CgkJCWV2ZW50c0ZvciA9IGV2ZW50cy50b3VjaAoKCQkJdGhpcy5lbGVtZW50RG93bihlKQoJCX0sCgkJZWxlbWVudE1vdXNlRG93bihlKSB7CgkJCS8vIG1vdXNlZG93bkZuCgkJCXRoaXMuJGVtaXQoJ29uU2VsZWN0RWxlbWVudCcsIHRoaXMuZWxlSWQpCgkJCQoJCQlldmVudHNGb3IgPSBldmVudHMubW91c2UKCQkJdGhpcy5lbGVtZW50RG93bihlKQoJCX0sCgkJLy8g5YWD57Sg5oyJ5LiLCgkJZWxlbWVudERvd24oZSkgewoJCQlpZiAoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgZS53aGljaCAhPT0gMSkgewoJCQkJcmV0dXJuCgkJCX0KCgkJCWNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudAoJCQkKCQkJaWYgKHRoaXMuJGVsLmNvbnRhaW5zKHRhcmdldCkpIHsKCQkJCWlmICh0aGlzLm9uRHJhZ1N0YXJ0KGUpID09PSBmYWxzZSkgewoJCQkJCXJldHVybgoJCQkJfQoKCQkJCWlmICgKCQkJCQkodGhpcy5kcmFnSGFuZGxlICYmICFtYXRjaGVzU2VsZWN0b3JUb1BhcmVudEVsZW1lbnRzKHRhcmdldCwgdGhpcy5kcmFnSGFuZGxlLCB0aGlzLiRlbCkpIHx8CgkJCQkJKHRoaXMuZHJhZ0NhbmNlbCAmJiBtYXRjaGVzU2VsZWN0b3JUb1BhcmVudEVsZW1lbnRzKHRhcmdldCwgdGhpcy5kcmFnQ2FuY2VsLCB0aGlzLiRlbCkpCgkJCQkpIHsKCQkJCQl0aGlzLmRyYWdnaW5nID0gZmFsc2UKCgkJCQkJcmV0dXJuCgkJCQl9CgoJCQkJaWYgKCF0aGlzLmVuYWJsZWQpIHsKCQkJCQl0aGlzLmVuYWJsZWQgPSB0cnVlCgoJCQkJCXRoaXMuJGVtaXQoJ2FjdGl2YXRlZCcpCgkJCQkJdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZScsIHRydWUpCgkJCQl9CgoJCQkJaWYgKHRoaXMuZHJhZ2dhYmxlKSB7CgkJCQkJdGhpcy5kcmFnZ2luZyA9IHRydWUKCQkJCX0KCgkJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbi5tb3VzZVggPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYCgkJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbi5tb3VzZVkgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZCgoJCQkJdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24ubGVmdCA9IHRoaXMubGVmdAoJCQkJdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24ucmlnaHQgPSB0aGlzLnJpZ2h0CgkJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbi50b3AgPSB0aGlzLnRvcAoJCQkJdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24uYm90dG9tID0gdGhpcy5ib3R0b20KCQkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLncgPSB0aGlzLndpZHRoCgkJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbi5oID0gdGhpcy5oZWlnaHQKCgkJCQlpZiAodGhpcy5wYXJlbnQpIHsKCQkJCQl0aGlzLmJvdW5kcyA9IHRoaXMuY2FsY0RyYWdMaW1pdHMoKQoJCQkJfQoKCQkJCWFkZEV2ZW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZXZlbnRzRm9yLm1vdmUsIHRoaXMubW92ZSkKCQkJCWFkZEV2ZW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZXZlbnRzRm9yLnN0b3AsIHRoaXMuaGFuZGxlVXApCgkJCX0KCQl9LAoJCS8vIOiuoeeul+enu+WKqOiMg+WbtAoJCWNhbGNEcmFnTGltaXRzKCkgewoJCQlyZXR1cm4gewoJCQkJbWluTGVmdDogdGhpcy5sZWZ0ICUgdGhpcy5ncmlkWzBdLAoJCQkJbWF4TGVmdDogTWF0aC5mbG9vcigodGhpcy5wYXJlbnRXaWR0aCAtIHRoaXMud2lkdGggLSB0aGlzLmxlZnQpIC8gdGhpcy5ncmlkWzBdKSAqIHRoaXMuZ3JpZFswXSArIHRoaXMubGVmdCwKCQkJCW1pblJpZ2h0OiB0aGlzLnJpZ2h0ICUgdGhpcy5ncmlkWzBdLAoJCQkJbWF4UmlnaHQ6IE1hdGguZmxvb3IoKHRoaXMucGFyZW50V2lkdGggLSB0aGlzLndpZHRoIC0gdGhpcy5yaWdodCkgLyB0aGlzLmdyaWRbMF0pICogdGhpcy5ncmlkWzBdICsgdGhpcy5yaWdodCwKCQkJCW1pblRvcDogdGhpcy50b3AgJSB0aGlzLmdyaWRbMV0sCgkJCQltYXhUb3A6IE1hdGguZmxvb3IoKHRoaXMucGFyZW50SGVpZ2h0IC0gdGhpcy5oZWlnaHQgLSB0aGlzLnRvcCkgLyB0aGlzLmdyaWRbMV0pICogdGhpcy5ncmlkWzFdICsgdGhpcy50b3AsCgkJCQltaW5Cb3R0b206IHRoaXMuYm90dG9tICUgdGhpcy5ncmlkWzFdLAoJCQkJbWF4Qm90dG9tOiBNYXRoLmZsb29yKCh0aGlzLnBhcmVudEhlaWdodCAtIHRoaXMuaGVpZ2h0IC0gdGhpcy5ib3R0b20pIC8gdGhpcy5ncmlkWzFdKSAqIHRoaXMuZ3JpZFsxXSArIHRoaXMuYm90dG9tCgkJCX0KCQl9LAoJCS8vIOWPlua2iAoJCWRlc2VsZWN0KGUpIHsKCQkJY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50CgkJCWNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLmNsYXNzTmFtZSArICctKFt0cm1ibF17Mn0pJywgJycpCgoJCQlpZiAoIXRoaXMuJGVsLmNvbnRhaW5zKHRhcmdldCkgJiYgIXJlZ2V4LnRlc3QodGFyZ2V0LmNsYXNzTmFtZSkpIHsKCQkJCWlmICh0aGlzLmVuYWJsZWQgJiYgIXRoaXMucHJldmVudERlYWN0aXZhdGlvbikgewoJCQkJCXRoaXMuZW5hYmxlZCA9IGZhbHNlCgoJCQkJCXRoaXMuJGVtaXQoJ2RlYWN0aXZhdGVkJykKCQkJCQl0aGlzLiRlbWl0KCd1cGRhdGU6YWN0aXZlJywgZmFsc2UpCgkJCQl9CgoJCQkJcmVtb3ZlRXZlbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBldmVudHNGb3IubW92ZSwgdGhpcy5oYW5kbGVSZXNpemUpCgkJCX0KCgkJCXRoaXMucmVzZXRCb3VuZHNBbmRNb3VzZVN0YXRlKCkKCQl9LAoJCS8vIOaOp+WItuafhOinpuaRuOaMieS4iwoJCWhhbmRsZVRvdWNoRG93bihoYW5kbGUsIGUpIHsKCQkJZXZlbnRzRm9yID0gZXZlbnRzLnRvdWNoCgoJCQl0aGlzLmhhbmRsZURvd24oaGFuZGxlLCBlKQoJCX0sCgkJLy8g5o6n5Yi25p+E5oyJ5LiLCgkJaGFuZGxlRG93bihoYW5kbGUsIGUpIHsKCQkJaWYgKGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmIGUud2hpY2ggIT09IDEpIHsKCQkJCXJldHVybgoJCQl9CgoJCQlpZiAodGhpcy5vblJlc2l6ZVN0YXJ0KGhhbmRsZSwgZSkgPT09IGZhbHNlKSB7CgkJCQlyZXR1cm4KCQkJfQoKCQkJaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpCgoJCQkvLyBIZXJlIHdlIGF2b2lkIGEgZGFuZ2Vyb3VzIHJlY3Vyc2lvbiBieSBmYWtpbmcKCQkJLy8gY29ybmVyIGhhbmRsZXMgYXMgbWlkZGxlIGhhbmRsZXMKCQkJaWYgKHRoaXMubG9ja0FzcGVjdFJhdGlvICYmICFoYW5kbGUuaW5jbHVkZXMoJ20nKSkgewoJCQkJdGhpcy5oYW5kbGUgPSAnbScgKyBoYW5kbGUuc3Vic3RyaW5nKDEpCgkJCX0gZWxzZSB7CgkJCQl0aGlzLmhhbmRsZSA9IGhhbmRsZQoJCQl9CgoJCQl0aGlzLnJlc2l6aW5nID0gdHJ1ZQoKCQkJdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24ubW91c2VYID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWAoJCQl0aGlzLm1vdXNlQ2xpY2tQb3NpdGlvbi5tb3VzZVkgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZCgkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLmxlZnQgPSB0aGlzLmxlZnQKCQkJdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24ucmlnaHQgPSB0aGlzLnJpZ2h0CgkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLnRvcCA9IHRoaXMudG9wCgkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLmJvdHRvbSA9IHRoaXMuYm90dG9tCgkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLncgPSB0aGlzLndpZHRoCgkJCXRoaXMubW91c2VDbGlja1Bvc2l0aW9uLmggPSB0aGlzLmhlaWdodAoKCQkJdGhpcy5ib3VuZHMgPSB0aGlzLmNhbGNSZXNpemVMaW1pdHMoKQoKCQkJYWRkRXZlbnQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBldmVudHNGb3IubW92ZSwgdGhpcy5oYW5kbGVSZXNpemUpCgkJCWFkZEV2ZW50KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZXZlbnRzRm9yLnN0b3AsIHRoaXMuaGFuZGxlVXApCgkJfSwKCQkvLyDorqHnrpfosIPmlbTlpKflsI/ojIPlm7QKCQljYWxjUmVzaXplTGltaXRzKCkgewoJCQlsZXQgbWluVyA9IHRoaXMubWluVwoJCQlsZXQgbWluSCA9IHRoaXMubWluSAoJCQlsZXQgbWF4VyA9IHRoaXMubWF4VwoJCQlsZXQgbWF4SCA9IHRoaXMubWF4SAoKCQkJY29uc3QgYXNwZWN0RmFjdG9yID0gdGhpcy5hc3BlY3RGYWN0b3IKCQkJY29uc3QgW2dyaWRYLCBncmlkWV0gPSB0aGlzLmdyaWQKCQkJY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoCgkJCWNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0CgkJCWNvbnN0IGxlZnQgPSB0aGlzLmxlZnQKCQkJY29uc3QgdG9wID0gdGhpcy50b3AKCQkJY29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0CgkJCWNvbnN0IGJvdHRvbSA9IHRoaXMuYm90dG9tCgoJCQlpZiAodGhpcy5sb2NrQXNwZWN0UmF0aW8pIHsKCQkJCWlmIChtaW5XIC8gbWluSCA+IGFzcGVjdEZhY3RvcikgewoJCQkJCW1pbkggPSBtaW5XIC8gYXNwZWN0RmFjdG9yCgkJCQl9IGVsc2UgewoJCQkJCW1pblcgPSBhc3BlY3RGYWN0b3IgKiBtaW5ICgkJCQl9CgoJCQkJaWYgKG1heFcgJiYgbWF4SCkgewoJCQkJCW1heFcgPSBNYXRoLm1pbihtYXhXLCBhc3BlY3RGYWN0b3IgKiBtYXhIKQoJCQkJCW1heEggPSBNYXRoLm1pbihtYXhILCBtYXhXIC8gYXNwZWN0RmFjdG9yKQoJCQkJfSBlbHNlIGlmIChtYXhXKSB7CgkJCQkJbWF4SCA9IG1heFcgLyBhc3BlY3RGYWN0b3IKCQkJCX0gZWxzZSBpZiAobWF4SCkgewoJCQkJCW1heFcgPSBhc3BlY3RGYWN0b3IgKiBtYXhICgkJCQl9CgkJCX0KCgkJCW1heFcgPSBtYXhXIC0gKG1heFcgJSBncmlkWCkKCQkJbWF4SCA9IG1heEggLSAobWF4SCAlIGdyaWRZKQoKCQkJY29uc3QgbGltaXRzID0gewoJCQkJbWluTGVmdDogbnVsbCwKCQkJCW1heExlZnQ6IG51bGwsCgkJCQltaW5Ub3A6IG51bGwsCgkJCQltYXhUb3A6IG51bGwsCgkJCQltaW5SaWdodDogbnVsbCwKCQkJCW1heFJpZ2h0OiBudWxsLAoJCQkJbWluQm90dG9tOiBudWxsLAoJCQkJbWF4Qm90dG9tOiBudWxsCgkJCX0KCgkJCWlmICh0aGlzLnBhcmVudCkgewoJCQkJbGltaXRzLm1pbkxlZnQgPSBsZWZ0ICUgZ3JpZFgKCQkJCWxpbWl0cy5tYXhMZWZ0ID0gbGVmdCArIE1hdGguZmxvb3IoKHdpZHRoIC0gbWluVykgLyBncmlkWCkgKiBncmlkWAoJCQkJbGltaXRzLm1pblRvcCA9IHRvcCAlIGdyaWRZCgkJCQlsaW1pdHMubWF4VG9wID0gdG9wICsgTWF0aC5mbG9vcigoaGVpZ2h0IC0gbWluSCkgLyBncmlkWSkgKiBncmlkWQoJCQkJbGltaXRzLm1pblJpZ2h0ID0gcmlnaHQgJSBncmlkWAoJCQkJbGltaXRzLm1heFJpZ2h0ID0gcmlnaHQgKyBNYXRoLmZsb29yKCh3aWR0aCAtIG1pblcpIC8gZ3JpZFgpICogZ3JpZFgKCQkJCWxpbWl0cy5taW5Cb3R0b20gPSBib3R0b20gJSBncmlkWQoJCQkJbGltaXRzLm1heEJvdHRvbSA9IGJvdHRvbSArIE1hdGguZmxvb3IoKGhlaWdodCAtIG1pbkgpIC8gZ3JpZFkpICogZ3JpZFkKCgkJCQlpZiAobWF4VykgewoJCQkJCWxpbWl0cy5taW5MZWZ0ID0gTWF0aC5tYXgobGltaXRzLm1pbkxlZnQsIHRoaXMucGFyZW50V2lkdGggLSByaWdodCAtIG1heFcpCgkJCQkJbGltaXRzLm1pblJpZ2h0ID0gTWF0aC5tYXgobGltaXRzLm1pblJpZ2h0LCB0aGlzLnBhcmVudFdpZHRoIC0gbGVmdCAtIG1heFcpCgkJCQl9CgoJCQkJaWYgKG1heEgpIHsKCQkJCQlsaW1pdHMubWluVG9wID0gTWF0aC5tYXgobGltaXRzLm1pblRvcCwgdGhpcy5wYXJlbnRIZWlnaHQgLSBib3R0b20gLSBtYXhIKQoJCQkJCWxpbWl0cy5taW5Cb3R0b20gPSBNYXRoLm1heChsaW1pdHMubWluQm90dG9tLCB0aGlzLnBhcmVudEhlaWdodCAtIHRvcCAtIG1heEgpCgkJCQl9CgoJCQkJaWYgKHRoaXMubG9ja0FzcGVjdFJhdGlvKSB7CgkJCQkJbGltaXRzLm1pbkxlZnQgPSBNYXRoLm1heChsaW1pdHMubWluTGVmdCwgbGVmdCAtIHRvcCAqIGFzcGVjdEZhY3RvcikKCQkJCQlsaW1pdHMubWluVG9wID0gTWF0aC5tYXgobGltaXRzLm1pblRvcCwgdG9wIC0gbGVmdCAvIGFzcGVjdEZhY3RvcikKCQkJCQlsaW1pdHMubWluUmlnaHQgPSBNYXRoLm1heChsaW1pdHMubWluUmlnaHQsIHJpZ2h0IC0gYm90dG9tICogYXNwZWN0RmFjdG9yKQoJCQkJCWxpbWl0cy5taW5Cb3R0b20gPSBNYXRoLm1heChsaW1pdHMubWluQm90dG9tLCBib3R0b20gLSByaWdodCAvIGFzcGVjdEZhY3RvcikKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWxpbWl0cy5taW5MZWZ0ID0gbnVsbAoJCQkJbGltaXRzLm1heExlZnQgPSBsZWZ0ICsgTWF0aC5mbG9vcigod2lkdGggLSBtaW5XKSAvIGdyaWRYKSAqIGdyaWRYCgkJCQlsaW1pdHMubWluVG9wID0gbnVsbAoJCQkJbGltaXRzLm1heFRvcCA9IHRvcCArIE1hdGguZmxvb3IoKGhlaWdodCAtIG1pbkgpIC8gZ3JpZFkpICogZ3JpZFkKCQkJCWxpbWl0cy5taW5SaWdodCA9IG51bGwKCQkJCWxpbWl0cy5tYXhSaWdodCA9IHJpZ2h0ICsgTWF0aC5mbG9vcigod2lkdGggLSBtaW5XKSAvIGdyaWRYKSAqIGdyaWRYCgkJCQlsaW1pdHMubWluQm90dG9tID0gbnVsbAoJCQkJbGltaXRzLm1heEJvdHRvbSA9IGJvdHRvbSArIE1hdGguZmxvb3IoKGhlaWdodCAtIG1pbkgpIC8gZ3JpZFkpICogZ3JpZFkKCgkJCQlpZiAobWF4VykgewoJCQkJCWxpbWl0cy5taW5MZWZ0ID0gLShyaWdodCArIG1heFcpCgkJCQkJbGltaXRzLm1pblJpZ2h0ID0gLShsZWZ0ICsgbWF4VykKCQkJCX0KCgkJCQlpZiAobWF4SCkgewoJCQkJCWxpbWl0cy5taW5Ub3AgPSAtKGJvdHRvbSArIG1heEgpCgkJCQkJbGltaXRzLm1pbkJvdHRvbSA9IC0odG9wICsgbWF4SCkKCQkJCX0KCgkJCQlpZiAodGhpcy5sb2NrQXNwZWN0UmF0aW8gJiYgKG1heFcgJiYgbWF4SCkpIHsKCQkJCQlsaW1pdHMubWluTGVmdCA9IE1hdGgubWluKGxpbWl0cy5taW5MZWZ0LCAtKHJpZ2h0ICsgbWF4VykpCgkJCQkJbGltaXRzLm1pblRvcCA9IE1hdGgubWluKGxpbWl0cy5taW5Ub3AsIC0obWF4SCArIGJvdHRvbSkpCgkJCQkJbGltaXRzLm1pblJpZ2h0ID0gTWF0aC5taW4obGltaXRzLm1pblJpZ2h0LCAtbGVmdCAtIG1heFcpCgkJCQkJbGltaXRzLm1pbkJvdHRvbSA9IE1hdGgubWluKGxpbWl0cy5taW5Cb3R0b20sIC10b3AgLSBtYXhIKQoJCQkJfQoJCQl9CgoJCQlyZXR1cm4gbGltaXRzCgkJfSwKCQkvLyDnp7vliqgKCQltb3ZlKGUpIHsKCQkJaWYgKHRoaXMucmVzaXppbmcpIHsKCQkJCXRoaXMuaGFuZGxlUmVzaXplKGUpCgkJCX0gZWxzZSBpZiAodGhpcy5kcmFnZ2luZykgewoJCQkJdGhpcy5oYW5kbGVEcmFnKGUpCgkJCX0KCQl9LAoJCS8vIOWFg+e0oOenu+WKqAoJCWFzeW5jIGhhbmRsZURyYWcoZSkgewoJCQljb25zdCBheGlzID0gdGhpcy5heGlzCgkJCWNvbnN0IGdyaWQgPSB0aGlzLmdyaWQKCQkJY29uc3QgYm91bmRzID0gdGhpcy5ib3VuZHMKCQkJY29uc3QgbW91c2VDbGlja1Bvc2l0aW9uID0gdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24KCgkJCWNvbnN0IHRtcERlbHRhWCA9IGF4aXMgJiYgYXhpcyAhPT0gJ3knID8gbW91c2VDbGlja1Bvc2l0aW9uLm1vdXNlWCAtIChlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYKSA6CgkJCQkwCgkJCWNvbnN0IHRtcERlbHRhWSA9IGF4aXMgJiYgYXhpcyAhPT0gJ3gnID8gbW91c2VDbGlja1Bvc2l0aW9uLm1vdXNlWSAtIChlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZKSA6CgkJCQkwCgoJCQljb25zdCBbZGVsdGFYLCBkZWx0YVldID0gc25hcFRvR3JpZChncmlkLCB0bXBEZWx0YVgsIHRtcERlbHRhWSwgdGhpcy5zY2FsZVJhdGlvKQoKCQkJY29uc3QgbGVmdCA9IHJlc3RyaWN0VG9Cb3VuZHMobW91c2VDbGlja1Bvc2l0aW9uLmxlZnQgLSBkZWx0YVgsIGJvdW5kcy5taW5MZWZ0LCBib3VuZHMubWF4TGVmdCkKCQkJY29uc3QgdG9wID0gcmVzdHJpY3RUb0JvdW5kcyhtb3VzZUNsaWNrUG9zaXRpb24udG9wIC0gZGVsdGFZLCBib3VuZHMubWluVG9wLCBib3VuZHMubWF4VG9wKQoJCQlpZiAodGhpcy5vbkRyYWcobGVmdCwgdG9wKSA9PT0gZmFsc2UpIHsKCQkJCXJldHVybgoJCQl9CgkJCWNvbnN0IHJpZ2h0ID0gcmVzdHJpY3RUb0JvdW5kcyhtb3VzZUNsaWNrUG9zaXRpb24ucmlnaHQgKyBkZWx0YVgsIGJvdW5kcy5taW5SaWdodCwgYm91bmRzLm1heFJpZ2h0KQoJCQljb25zdCBib3R0b20gPSByZXN0cmljdFRvQm91bmRzKG1vdXNlQ2xpY2tQb3NpdGlvbi5ib3R0b20gKyBkZWx0YVksIGJvdW5kcy5taW5Cb3R0b20sIGJvdW5kcy5tYXhCb3R0b20pCgkJCXRoaXMubGVmdCA9IGxlZnQKCQkJdGhpcy50b3AgPSB0b3AKCQkJdGhpcy5yaWdodCA9IHJpZ2h0CgkJCXRoaXMuYm90dG9tID0gYm90dG9tCgkJCS8vIHJlc2l6aW5nRm4KCQkJdGhpcy4kZW1pdCgncmVzaXppbmcnLCB0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkKCgkJCWF3YWl0IHRoaXMuc25hcENoZWNrKCkKCQkJdGhpcy4kZW1pdCgnZHJhZ2dpbmcnLCB0aGlzLmxlZnQsIHRoaXMudG9wKQoJCX0sCgkJbW92ZUhvcml6b250YWxseSh2YWwpIHsKCQkJY29uc3QgW2RlbHRhWCwgX10gPSBzbmFwVG9HcmlkKHRoaXMuZ3JpZCwgdmFsLCB0aGlzLnRvcCwgdGhpcy5zY2FsZSkKCQkJY29uc3QgbGVmdCA9IHJlc3RyaWN0VG9Cb3VuZHMoZGVsdGFYLCB0aGlzLmJvdW5kcy5taW5MZWZ0LCB0aGlzLmJvdW5kcy5tYXhMZWZ0KQoJCQl0aGlzLmxlZnQgPSBsZWZ0CgkJCXRoaXMucmlnaHQgPSB0aGlzLnBhcmVudFdpZHRoIC0gdGhpcy53aWR0aCAtIGxlZnQKCQl9LAoJCW1vdmVWZXJ0aWNhbGx5KHZhbCkgewoJCQljb25zdCBbXywgZGVsdGFZXSA9IHNuYXBUb0dyaWQodGhpcy5ncmlkLCB0aGlzLmxlZnQsIHZhbCwgdGhpcy5zY2FsZSkKCQkJY29uc3QgdG9wID0gcmVzdHJpY3RUb0JvdW5kcyhkZWx0YVksIHRoaXMuYm91bmRzLm1pblRvcCwgdGhpcy5ib3VuZHMubWF4VG9wKQoJCQl0aGlzLnRvcCA9IHRvcAoJCQl0aGlzLmJvdHRvbSA9IHRoaXMucGFyZW50SGVpZ2h0IC0gdGhpcy5oZWlnaHQgLSB0b3AKCQl9LAoJCS8vIOaOp+WItuafhOenu+WKqAoJCWhhbmRsZVJlc2l6ZShlKSB7CgkJCWxldCBsZWZ0ID0gdGhpcy5sZWZ0CgkJCWxldCB0b3AgPSB0aGlzLnRvcAoJCQlsZXQgcmlnaHQgPSB0aGlzLnJpZ2h0CgkJCWxldCBib3R0b20gPSB0aGlzLmJvdHRvbQoKCQkJY29uc3QgbW91c2VDbGlja1Bvc2l0aW9uID0gdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24KCQkJY29uc3QgbG9ja0FzcGVjdFJhdGlvID0gdGhpcy5sb2NrQXNwZWN0UmF0aW8KCQkJY29uc3QgYXNwZWN0RmFjdG9yID0gdGhpcy5hc3BlY3RGYWN0b3IKCQkJCgkJCWNvbnN0IHRtcERlbHRhWCA9IG1vdXNlQ2xpY2tQb3NpdGlvbi5tb3VzZVggLSAoZS50b3VjaGVzID8gZS50b3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCkKCQkJY29uc3QgdG1wRGVsdGFZID0gbW91c2VDbGlja1Bvc2l0aW9uLm1vdXNlWSAtIChlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZKQoKCQkJaWYgKCF0aGlzLndpZHRoVG91Y2hlZCAmJiB0bXBEZWx0YVgpIHsKCQkJCXRoaXMud2lkdGhUb3VjaGVkID0gdHJ1ZQoJCQl9CgkJCWlmICghdGhpcy5oZWlnaHRUb3VjaGVkICYmIHRtcERlbHRhWSkgewoJCQkJdGhpcy5oZWlnaHRUb3VjaGVkID0gdHJ1ZQoJCQl9CgkJCWNvbnN0IFtkZWx0YVgsIGRlbHRhWV0gPSBzbmFwVG9HcmlkKHRoaXMuZ3JpZCwgdG1wRGVsdGFYLCB0bXBEZWx0YVksIHRoaXMuc2NhbGVSYXRpbykKCgkJCWlmICh0aGlzLmhhbmRsZS5pbmNsdWRlcygnYicpKSB7CgkJCQlib3R0b20gPSByZXN0cmljdFRvQm91bmRzKAoJCQkJCW1vdXNlQ2xpY2tQb3NpdGlvbi5ib3R0b20gKyBkZWx0YVksCgkJCQkJdGhpcy5ib3VuZHMubWluQm90dG9tLAoJCQkJCXRoaXMuYm91bmRzLm1heEJvdHRvbQoJCQkJKQoJCQkJaWYgKHRoaXMubG9ja0FzcGVjdFJhdGlvICYmIHRoaXMucmVzaXppbmdPblkpIHsKCQkJCQlyaWdodCA9IHRoaXMucmlnaHQgLSAodGhpcy5ib3R0b20gLSBib3R0b20pICogYXNwZWN0RmFjdG9yCgkJCQl9CgkJCX0gZWxzZSBpZiAodGhpcy5oYW5kbGUuaW5jbHVkZXMoJ3QnKSkgewoJCQkJdG9wID0gcmVzdHJpY3RUb0JvdW5kcygKCQkJCQltb3VzZUNsaWNrUG9zaXRpb24udG9wIC0gZGVsdGFZLAoJCQkJCXRoaXMuYm91bmRzLm1pblRvcCwKCQkJCQl0aGlzLmJvdW5kcy5tYXhUb3AKCQkJCSkKCQkJCWlmICh0aGlzLmxvY2tBc3BlY3RSYXRpbyAmJiB0aGlzLnJlc2l6aW5nT25ZKSB7CgkJCQkJbGVmdCA9IHRoaXMubGVmdCAtICh0aGlzLnRvcCAtIHRvcCkgKiBhc3BlY3RGYWN0b3IKCQkJCX0KCQkJfQoKCQkJaWYgKHRoaXMuaGFuZGxlLmluY2x1ZGVzKCdyJykpIHsKCQkJCXJpZ2h0ID0gcmVzdHJpY3RUb0JvdW5kcygKCQkJCQltb3VzZUNsaWNrUG9zaXRpb24ucmlnaHQgKyBkZWx0YVgsCgkJCQkJdGhpcy5ib3VuZHMubWluUmlnaHQsCgkJCQkJdGhpcy5ib3VuZHMubWF4UmlnaHQKCQkJCSkKCQkJCWlmICh0aGlzLmxvY2tBc3BlY3RSYXRpbyAmJiB0aGlzLnJlc2l6aW5nT25YKSB7CgkJCQkJYm90dG9tID0gdGhpcy5ib3R0b20gLSAodGhpcy5yaWdodCAtIHJpZ2h0KSAvIGFzcGVjdEZhY3RvcgoJCQkJfQoJCQl9IGVsc2UgaWYgKHRoaXMuaGFuZGxlLmluY2x1ZGVzKCdsJykpIHsKCQkJCWxlZnQgPSByZXN0cmljdFRvQm91bmRzKAoJCQkJCW1vdXNlQ2xpY2tQb3NpdGlvbi5sZWZ0IC0gZGVsdGFYLAoJCQkJCXRoaXMuYm91bmRzLm1pbkxlZnQsCgkJCQkJdGhpcy5ib3VuZHMubWF4TGVmdAoJCQkJKQoJCQkJaWYgKHRoaXMubG9ja0FzcGVjdFJhdGlvICYmIHRoaXMucmVzaXppbmdPblgpIHsKCQkJCQl0b3AgPSB0aGlzLnRvcCAtICh0aGlzLmxlZnQgLSBsZWZ0KSAvIGFzcGVjdEZhY3RvcgoJCQkJfQoJCQl9CgoJCQljb25zdCB3aWR0aCA9IGNvbXB1dGVXaWR0aCh0aGlzLnBhcmVudFdpZHRoLCBsZWZ0LCByaWdodCkKCQkJY29uc3QgaGVpZ2h0ID0gY29tcHV0ZUhlaWdodCh0aGlzLnBhcmVudEhlaWdodCwgdG9wLCBib3R0b20pCgkJCWlmICh0aGlzLm9uUmVzaXplKHRoaXMuaGFuZGxlLCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpID09PSBmYWxzZSkgewoJCQkJcmV0dXJuCgkJCX0KCQkJdGhpcy5sZWZ0ID0gbGVmdAoJCQl0aGlzLnRvcCA9IHRvcAoJCQl0aGlzLnJpZ2h0ID0gcmlnaHQKCQkJdGhpcy5ib3R0b20gPSBib3R0b20KCQkJdGhpcy53aWR0aCA9IHdpZHRoCgkJCXRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkJCS8vIHJlc2l6aW5nRm4KCQkJdGhpcy4kZW1pdCgncmVzaXppbmcnLCB0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkKCQl9LAoJCWNoYW5nZVdpZHRoKHZhbCkgewoJCQljb25zdCBbbmV3V2lkdGgsIF9dID0gc25hcFRvR3JpZCh0aGlzLmdyaWQsIHZhbCwgMCwgdGhpcy5zY2FsZSkKCQkJbGV0IHJpZ2h0ID0gcmVzdHJpY3RUb0JvdW5kcygKCQkJCSh0aGlzLnBhcmVudFdpZHRoIC0gbmV3V2lkdGggLSB0aGlzLmxlZnQpLAoJCQkJdGhpcy5ib3VuZHMubWluUmlnaHQsCgkJCQl0aGlzLmJvdW5kcy5tYXhSaWdodAoJCQkpCgkJCWxldCBib3R0b20gPSB0aGlzLmJvdHRvbQoJCQlpZiAodGhpcy5sb2NrQXNwZWN0UmF0aW8pIHsKCQkJCWJvdHRvbSA9IHRoaXMuYm90dG9tIC0gKHRoaXMucmlnaHQgLSByaWdodCkgLyB0aGlzLmFzcGVjdEZhY3RvcgoJCQl9CgkJCWNvbnN0IHdpZHRoID0gY29tcHV0ZVdpZHRoKHRoaXMucGFyZW50V2lkdGgsIHRoaXMubGVmdCwgcmlnaHQpCgkJCWNvbnN0IGhlaWdodCA9IGNvbXB1dGVIZWlnaHQodGhpcy5wYXJlbnRIZWlnaHQsIHRoaXMudG9wLCBib3R0b20pCgkJCXRoaXMucmlnaHQgPSByaWdodAoJCQl0aGlzLmJvdHRvbSA9IGJvdHRvbQoJCQl0aGlzLndpZHRoID0gd2lkdGgKCQkJdGhpcy5oZWlnaHQgPSBoZWlnaHQKCQl9LAoJCWNoYW5nZUhlaWdodCh2YWwpIHsKCQkJY29uc3QgW18sIG5ld0hlaWdodF0gPSBzbmFwVG9HcmlkKHRoaXMuZ3JpZCwgMCwgdmFsLCB0aGlzLnNjYWxlKQoJCQlsZXQgYm90dG9tID0gcmVzdHJpY3RUb0JvdW5kcygKCQkJCSh0aGlzLnBhcmVudEhlaWdodCAtIG5ld0hlaWdodCAtIHRoaXMudG9wKSwKCQkJCXRoaXMuYm91bmRzLm1pbkJvdHRvbSwKCQkJCXRoaXMuYm91bmRzLm1heEJvdHRvbQoJCQkpCgkJCWxldCByaWdodCA9IHRoaXMucmlnaHQKCQkJaWYgKHRoaXMubG9ja0FzcGVjdFJhdGlvKSB7CgkJCQlyaWdodCA9IHRoaXMucmlnaHQgLSAodGhpcy5ib3R0b20gLSBib3R0b20pICogdGhpcy5hc3BlY3RGYWN0b3IKCQkJfQoJCQljb25zdCB3aWR0aCA9IGNvbXB1dGVXaWR0aCh0aGlzLnBhcmVudFdpZHRoLCB0aGlzLmxlZnQsIHJpZ2h0KQoJCQljb25zdCBoZWlnaHQgPSBjb21wdXRlSGVpZ2h0KHRoaXMucGFyZW50SGVpZ2h0LCB0aGlzLnRvcCwgYm90dG9tKQoJCQl0aGlzLnJpZ2h0ID0gcmlnaHQKCQkJdGhpcy5ib3R0b20gPSBib3R0b20KCQkJdGhpcy53aWR0aCA9IHdpZHRoCgkJCXRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkJfSwKCQkvLyDku47mjqfliLbmn4Tmnb7lvIAKCQlhc3luYyBoYW5kbGVVcChlKSB7CgkJCXRoaXMuaGFuZGxlID0gbnVsbAoKCQkJLy8g5Yid5aeL5YyW6L6F5Yqp57q/5pWw5o2uCgkJCWNvbnN0IHRlbUFyciA9IG5ldyBBcnJheSgzKS5maWxsKHsKCQkJCWRpc3BsYXk6IGZhbHNlLAoJCQkJcG9zaXRpb246ICcnLAoJCQkJb3JpZ2luOiAnJywKCQkJCWxpbmVMZW5ndGg6ICcnCgkJCX0pCgkJCWNvbnN0IHJlZkxpbmUgPSB7CgkJCQl2TGluZTogW10sCgkJCQloTGluZTogW10KCQkJfQoJCQlmb3IgKGxldCBpIGluIHJlZkxpbmUpIHsKCQkJCXJlZkxpbmVbaV0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRlbUFycikpCgkJCX0KCgkJCWlmICh0aGlzLnJlc2l6aW5nKSB7CgkJCQl0aGlzLnJlc2l6aW5nID0gZmFsc2UKCQkJCWF3YWl0IHRoaXMuY29uZmxpY3RDaGVjaygpCgkJCQl0aGlzLiRlbWl0KCdyZWZMaW5lUGFyYW1zJywgcmVmTGluZSkKCQkJCXRoaXMuJGVtaXQoJ3Jlc2l6ZXN0b3AnLCB0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkKCQkJfQoJCQlpZiAodGhpcy5kcmFnZ2luZykgewoJCQkJdGhpcy5kcmFnZ2luZyA9IGZhbHNlCgkJCQlhd2FpdCB0aGlzLmNvbmZsaWN0Q2hlY2soKQoJCQkJdGhpcy4kZW1pdCgncmVmTGluZVBhcmFtcycsIHJlZkxpbmUpCgkJCQl0aGlzLiRlbWl0KCdkcmFnc3RvcCcsIHRoaXMubGVmdCwgdGhpcy50b3ApCgkJCX0KCQkJdGhpcy5yZXNldEJvdW5kc0FuZE1vdXNlU3RhdGUoKQoJCQlyZW1vdmVFdmVudChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGV2ZW50c0Zvci5tb3ZlLCB0aGlzLmhhbmRsZVJlc2l6ZSkKCQl9LAoJCS8vIOaWsOWinuaWueazlSDihpPihpPihpMKCQkvLyDorr7nva7lsZ7mgKcKCQlzZXR0aW5nQXR0cmlidXRlKCkgewoJCQkvLyDorr7nva7lhrLnqoHmo4DmtYsKCQkJdGhpcy4kZWwuc2V0QXR0cmlidXRlKCdkYXRhLWlzLWNoZWNrJywgYCR7dGhpcy5pc0NvbmZsaWN0Q2hlY2t9YCkKCQkJLy8g6K6+572u5a+56b2Q5YWD57SgCgkJCXRoaXMuJGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1pcy1zbmFwJywgYCR7dGhpcy5zbmFwfWApCgkJfSwKCQkvLyDlhrLnqoHmo4DmtYsKCQljb25mbGljdENoZWNrKCkgewoJCQljb25zdCB0b3AgPSB0aGlzLnRvcAoJCQljb25zdCBsZWZ0ID0gdGhpcy5sZWZ0CgkJCWNvbnN0IHdpZHRoID0gdGhpcy53aWR0aAoJCQljb25zdCBoZWlnaHQgPSB0aGlzLmhlaWdodAoKCQkJaWYgKHRoaXMuaXNDb25mbGljdENoZWNrKSB7CgkJCQljb25zdCBub2RlcyA9IHRoaXMuJGVsLnBhcmVudE5vZGUuY2hpbGROb2RlcyAvLyDojrflj5blvZPliY3niLboioLngrnkuIvmiYDmnInlrZDoioLngrkKCQkJCWZvciAobGV0IGl0ZW0gb2Ygbm9kZXMpIHsKCQkJCQlpZiAoaXRlbS5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCAmJiAhaXRlbS5jbGFzc05hbWUuaW5jbHVkZXModGhpcy5jbGFzc05hbWVBY3RpdmUpICYmIGl0ZW0uZ2V0QXR0cmlidXRlKAoJCQkJCQkJJ2RhdGEtaXMtY2hlY2snKSAhPT0gbnVsbCAmJiBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pcy1jaGVjaycpICE9PSAnZmFsc2UnKSB7CgkJCQkJCWNvbnN0IHR3ID0gaXRlbS5vZmZzZXRXaWR0aAoJCQkJCQljb25zdCB0aCA9IGl0ZW0ub2Zmc2V0SGVpZ2h0CgkJCQkJCS8vIOato+WImeiOt+WPlmxlZnTkuI5yaWdodAoJCQkJCQlsZXQgW3RsLCB0dF0gPSB0aGlzLmZvcm1hdFRyYW5zZm9ybVZhbChpdGVtLnN0eWxlLnRyYW5zZm9ybSkKCgkJCQkJCS8vIOW3puS4iuinkuS4juWPs+S4i+inkumHjeWPoAoJCQkJCQljb25zdCB0ZkFuZEJyID0gKHRvcCA+PSB0dCAmJiBsZWZ0ID49IHRsICYmIHR0ICsgdGggPiB0b3AgJiYgdGwgKyB0dyA+IGxlZnQpIHx8ICh0b3AgPD0gdHQgJiYgbGVmdCA8IHRsICYmIHRvcCArCgkJCQkJCQloZWlnaHQgPiB0dCAmJiBsZWZ0ICsgd2lkdGggPiB0bCkKCQkJCQkJLy8g5Y+z5LiK6KeS5LiO5bem5LiL6KeS6YeN5Y+gCgkJCQkJCWNvbnN0IGJyQW5kVGYgPSAobGVmdCA8PSB0bCAmJiB0b3AgPj0gdHQgJiYgbGVmdCArIHdpZHRoID4gdGwgJiYgdG9wIDwgdHQgKyB0aCkgfHwgKHRvcCA8IHR0ICYmIGxlZnQgPiB0bCAmJiB0b3AgKwoJCQkJCQkJaGVpZ2h0ID4gdHQgJiYgbGVmdCA8IHRsICsgdHcpCgkJCQkJCS8vIOS4i+i+ueS4juS4iui+uemHjeWPoAoJCQkJCQljb25zdCBiQW5kVCA9ICh0b3AgPD0gdHQgJiYgbGVmdCA+PSB0bCAmJiB0b3AgKyBoZWlnaHQgPiB0dCAmJiBsZWZ0IDwgdGwgKyB0dykgfHwgKHRvcCA+PSB0dCAmJiBsZWZ0IDw9IHRsICYmCgkJCQkJCQl0b3AgPCB0dCArIHRoICYmIGxlZnQgPiB0bCArIHR3KQoJCQkJCQkvLyDkuIrovrnkuI7kuIvovrnph43lj6DvvIjlrr3luqbkuI3kuIDmoLfvvIkKCQkJCQkJY29uc3QgdEFuZEIgPSAodG9wIDw9IHR0ICYmIGxlZnQgPj0gdGwgJiYgdG9wICsgaGVpZ2h0ID4gdHQgJiYgbGVmdCA8IHRsICsgdHcpIHx8ICh0b3AgPj0gdHQgJiYgbGVmdCA8PSB0bCAmJgoJCQkJCQkJdG9wIDwgdHQgKyB0aCAmJiBsZWZ0ID4gdGwgKyB0dykKCQkJCQkJLy8g5bem6L655LiO5Y+z6L656YeN5Y+gCgkJCQkJCWNvbnN0IGxBbmRSID0gKGxlZnQgPj0gdGwgJiYgdG9wID49IHR0ICYmIGxlZnQgPCB0bCArIHR3ICYmIHRvcCA8IHR0ICsgdGgpIHx8ICh0b3AgPiB0dCAmJiBsZWZ0IDw9IHRsICYmIGxlZnQgKwoJCQkJCQkJd2lkdGggPiB0bCAmJiB0b3AgPCB0dCArIHRoKQoJCQkJCQkvLyDlt6bovrnkuI7lj7Povrnph43lj6DvvIjpq5jluqbkuI3kuIDmoLfvvIkKCQkJCQkJY29uc3QgckFuZEwgPSAodG9wIDw9IHR0ICYmIGxlZnQgPj0gdGwgJiYgdG9wICsgaGVpZ2h0ID4gdHQgJiYgbGVmdCA8IHRsICsgdHcpIHx8ICh0b3AgPj0gdHQgJiYgbGVmdCA8PSB0bCAmJgoJCQkJCQkJdG9wIDwgdHQgKyB0aCAmJiBsZWZ0ICsgd2lkdGggPiB0bCkKCgkJCQkJCS8vIOWmguaenOWGsueqge+8jOWwseWwhuWbnumAgOWIsOenu+WKqOWJjeeahOS9jee9rgoJCQkJCQlpZiAodGZBbmRCciB8fCBickFuZFRmIHx8IGJBbmRUIHx8IHRBbmRCIHx8IGxBbmRSIHx8IHJBbmRMKSB7CgkJCQkJCQl0aGlzLnRvcCA9IHRoaXMubW91c2VDbGlja1Bvc2l0aW9uLnRvcAoJCQkJCQkJdGhpcy5sZWZ0ID0gdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24ubGVmdAoJCQkJCQkJdGhpcy5yaWdodCA9IHRoaXMubW91c2VDbGlja1Bvc2l0aW9uLnJpZ2h0CgkJCQkJCQl0aGlzLmJvdHRvbSA9IHRoaXMubW91c2VDbGlja1Bvc2l0aW9uLmJvdHRvbQoJCQkJCQkJdGhpcy53aWR0aCA9IHRoaXMubW91c2VDbGlja1Bvc2l0aW9uLncKCQkJCQkJCXRoaXMuaGVpZ2h0ID0gdGhpcy5tb3VzZUNsaWNrUG9zaXRpb24uaAoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfSwKCQkvLyDmo4DmtYvlr7npvZDlhYPntKAKCQlhc3luYyBzbmFwQ2hlY2soKSB7CgkJCWxldCB3aWR0aCA9IHRoaXMud2lkdGgKCQkJbGV0IGhlaWdodCA9IHRoaXMuaGVpZ2h0CgkJCWlmICh0aGlzLnNuYXApIHsKCQkJCWxldCBhY3RpdmVMZWZ0ID0gdGhpcy5sZWZ0CgkJCQlsZXQgYWN0aXZlUmlnaHQgPSB0aGlzLmxlZnQgKyB3aWR0aAoJCQkJbGV0IGFjdGl2ZVRvcCA9IHRoaXMudG9wCgkJCQlsZXQgYWN0aXZlQm90dG9tID0gdGhpcy50b3AgKyBoZWlnaHQKCgkJCQkvLyDliJ3lp4vljJbovoXliqnnur/mlbDmja4KCQkJCWNvbnN0IHRlbUFyciA9IG5ldyBBcnJheSgzKS5maWxsKHsKCQkJCQlkaXNwbGF5OiBmYWxzZSwKCQkJCQlwb3NpdGlvbjogJycsCgkJCQkJb3JpZ2luOiAnJywKCQkJCQlsaW5lTGVuZ3RoOiAnJwoJCQkJfSkKCQkJCWNvbnN0IHJlZkxpbmUgPSB7CgkJCQkJdkxpbmU6IFtdLAoJCQkJCWhMaW5lOiBbXQoJCQkJfQoJCQkJZm9yIChsZXQgaSBpbiByZWZMaW5lKSB7CgkJCQkJcmVmTGluZVtpXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGVtQXJyKSkKCQkJCX0KCgkJCQkvLyDojrflj5blvZPliY3niLboioLngrnkuIvmiYDmnInlrZDoioLngrkKCQkJCWNvbnN0IG5vZGVzID0gdGhpcy4kZWwucGFyZW50Tm9kZS5jaGlsZE5vZGVzCgoJCQkJbGV0IHRlbSA9IHsKCQkJCQl2YWx1ZTogewoJCQkJCQl4OiBbCgkJCQkJCQlbXSwKCQkJCQkJCVtdLAoJCQkJCQkJW10KCQkJCQkJXSwKCQkJCQkJeTogWwoJCQkJCQkJW10sCgkJCQkJCQlbXSwKCQkJCQkJCVtdCgkJCQkJCV0KCQkJCQl9LAoJCQkJCWRpc3BsYXk6IFtdLAoJCQkJCXBvc2l0aW9uOiBbXQoJCQkJfQoJCQkJY29uc3QgewoJCQkJCWdyb3VwV2lkdGgsCgkJCQkJZ3JvdXBIZWlnaHQsCgkJCQkJZ3JvdXBMZWZ0LAoJCQkJCWdyb3VwVG9wLAoJCQkJCWJsbgoJCQkJfSA9IGF3YWl0IHRoaXMuZ2V0QWN0aXZlQWxsKG5vZGVzKQoJCQkJaWYgKCFibG4pIHsKCQkJCQl3aWR0aCA9IGdyb3VwV2lkdGgKCQkJCQloZWlnaHQgPSBncm91cEhlaWdodAoJCQkJCWFjdGl2ZUxlZnQgPSBncm91cExlZnQKCQkJCQlhY3RpdmVSaWdodCA9IGdyb3VwTGVmdCArIGdyb3VwV2lkdGgKCQkJCQlhY3RpdmVUb3AgPSBncm91cFRvcAoJCQkJCWFjdGl2ZUJvdHRvbSA9IGdyb3VwVG9wICsgZ3JvdXBIZWlnaHQKCQkJCX0KCQkJCWZvciAobGV0IGl0ZW0gb2Ygbm9kZXMpIHsKCQkJCQlpZiAoaXRlbS5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCAmJiAhaXRlbS5jbGFzc05hbWUuaW5jbHVkZXModGhpcy5jbGFzc05hbWVBY3RpdmUpICYmIGl0ZW0uZ2V0QXR0cmlidXRlKAoJCQkJCQkJJ2RhdGEtaXMtc25hcCcpICE9PSBudWxsICYmIGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWlzLXNuYXAnKSAhPT0gJ2ZhbHNlJykgewoJCQkJCQljb25zdCB3ID0gaXRlbS5vZmZzZXRXaWR0aAoJCQkJCQljb25zdCBoID0gaXRlbS5vZmZzZXRIZWlnaHQKCQkJCQkJY29uc3QgW2wsIHRdID0gdGhpcy5mb3JtYXRUcmFuc2Zvcm1WYWwoaXRlbS5zdHlsZS50cmFuc2Zvcm0pCgkJCQkJCWNvbnN0IHIgPSBsICsgdyAvLyDlr7npvZDnm67moIdyaWdodAoJCQkJCQljb25zdCBiID0gdCArIGggLy8g5a+56b2Q55uu5qCH55qEYm90dG9tCgoJCQkJCQljb25zdCBoYyA9IE1hdGguYWJzKChhY3RpdmVUb3AgKyBoZWlnaHQgLyAyKSAtICh0ICsgaCAvIDIpKSA8PSB0aGlzLnNuYXBUb2xlcmFuY2UgLy8g5rC05bmz5Lit57q/CgkJCQkJCWNvbnN0IHZjID0gTWF0aC5hYnMoKGFjdGl2ZUxlZnQgKyB3aWR0aCAvIDIpIC0gKGwgKyB3IC8gMikpIDw9IHRoaXMuc25hcFRvbGVyYW5jZSAvLyDlnoLnm7TkuK3nur8KCgkJCQkJCWNvbnN0IHRzID0gTWF0aC5hYnModCAtIGFjdGl2ZUJvdHRvbSkgPD0gdGhpcy5zbmFwVG9sZXJhbmNlIC8vIOS7juS4iuWIsOS4iwoJCQkJCQljb25zdCBUUyA9IE1hdGguYWJzKGIgLSBhY3RpdmVCb3R0b20pIDw9IHRoaXMuc25hcFRvbGVyYW5jZSAvLyDku47kuIrliLDkuIsKCQkJCQkJY29uc3QgYnMgPSBNYXRoLmFicyh0IC0gYWN0aXZlVG9wKSA8PSB0aGlzLnNuYXBUb2xlcmFuY2UgLy8g5LuO5LiL5Yiw5LiKCgkJCQkJCWNvbnN0IEJTID0gTWF0aC5hYnMoYiAtIGFjdGl2ZVRvcCkgPD0gdGhpcy5zbmFwVG9sZXJhbmNlIC8vIOS7juS4i+WIsOS4igoKCQkJCQkJY29uc3QgbHMgPSBNYXRoLmFicyhsIC0gYWN0aXZlUmlnaHQpIDw9IHRoaXMuc25hcFRvbGVyYW5jZSAvLyDlpJblt6YKCQkJCQkJY29uc3QgTFMgPSBNYXRoLmFicyhyIC0gYWN0aXZlUmlnaHQpIDw9IHRoaXMuc25hcFRvbGVyYW5jZSAvLyDlpJblt6YKCQkJCQkJY29uc3QgcnMgPSBNYXRoLmFicyhsIC0gYWN0aXZlTGVmdCkgPD0gdGhpcy5zbmFwVG9sZXJhbmNlIC8vIOWkluWPswoJCQkJCQljb25zdCBSUyA9IE1hdGguYWJzKHIgLSBhY3RpdmVMZWZ0KSA8PSB0aGlzLnNuYXBUb2xlcmFuY2UgLy8g5aSW5Y+zCgoJCQkJCQl0ZW1bJ2Rpc3BsYXknXSA9IFt0cywgVFMsIGJzLCBCUywgaGMsIGhjLCBscywgTFMsIHJzLCBSUywgdmMsIHZjXQoJCQkJCQl0ZW1bJ3Bvc2l0aW9uJ10gPSBbdCwgYiwgdCwgYiwgdCArIGggLyAyLCB0ICsgaCAvIDIsIGwsIHIsIGwsIHIsIGwgKyB3IC8gMiwgbCArIHcgLyAyXQoKCQkJCQkJaWYgKHRzKSB7CgkJCQkJCQlpZiAoYmxuKSB7CgkJCQkJCQkJdGhpcy50b3AgPSB0IC0gaGVpZ2h0CgkJCQkJCQkJdGhpcy5ib3R0b20gPSB0aGlzLnBhcmVudEhlaWdodCAtIHRoaXMudG9wIC0gaGVpZ2h0CgkJCQkJCQl9CgkJCQkJCQl0ZW0udmFsdWUueVswXS5wdXNoKGwsIHIsIGFjdGl2ZUxlZnQsIGFjdGl2ZVJpZ2h0KQoJCQkJCQl9CgkJCQkJCWlmIChicykgewoJCQkJCQkJaWYgKGJsbikgewoJCQkJCQkJCXRoaXMudG9wID0gdAoJCQkJCQkJCXRoaXMuYm90dG9tID0gdGhpcy5wYXJlbnRIZWlnaHQgLSB0aGlzLnRvcCAtIGhlaWdodAoJCQkJCQkJfQoJCQkJCQkJdGVtLnZhbHVlLnlbMF0ucHVzaChsLCByLCBhY3RpdmVMZWZ0LCBhY3RpdmVSaWdodCkKCQkJCQkJfQoJCQkJCQlpZiAoVFMpIHsKCQkJCQkJCWlmIChibG4pIHsKCQkJCQkJCQl0aGlzLnRvcCA9IGIgLSBoZWlnaHQKCQkJCQkJCQl0aGlzLmJvdHRvbSA9IHRoaXMucGFyZW50SGVpZ2h0IC0gdGhpcy50b3AgLSBoZWlnaHQKCQkJCQkJCX0KCQkJCQkJCXRlbS52YWx1ZS55WzFdLnB1c2gobCwgciwgYWN0aXZlTGVmdCwgYWN0aXZlUmlnaHQpCgkJCQkJCX0KCQkJCQkJaWYgKEJTKSB7CgkJCQkJCQlpZiAoYmxuKSB7CgkJCQkJCQkJdGhpcy50b3AgPSBiCgkJCQkJCQkJdGhpcy5ib3R0b20gPSB0aGlzLnBhcmVudEhlaWdodCAtIHRoaXMudG9wIC0gaGVpZ2h0CgkJCQkJCQl9CgkJCQkJCQl0ZW0udmFsdWUueVsxXS5wdXNoKGwsIHIsIGFjdGl2ZUxlZnQsIGFjdGl2ZVJpZ2h0KQoJCQkJCQl9CgoJCQkJCQlpZiAobHMpIHsKCQkJCQkJCWlmIChibG4pIHsKCQkJCQkJCQl0aGlzLmxlZnQgPSBsIC0gd2lkdGgKCQkJCQkJCQl0aGlzLnJpZ2h0ID0gdGhpcy5wYXJlbnRXaWR0aCAtIHRoaXMubGVmdCAtIHdpZHRoCgkJCQkJCQl9CgkJCQkJCQl0ZW0udmFsdWUueFswXS5wdXNoKHQsIGIsIGFjdGl2ZVRvcCwgYWN0aXZlQm90dG9tKQoJCQkJCQl9CgkJCQkJCWlmIChycykgewoJCQkJCQkJaWYgKGJsbikgewoJCQkJCQkJCXRoaXMubGVmdCA9IGwKCQkJCQkJCQl0aGlzLnJpZ2h0ID0gdGhpcy5wYXJlbnRXaWR0aCAtIHRoaXMubGVmdCAtIHdpZHRoCgkJCQkJCQl9CgkJCQkJCQl0ZW0udmFsdWUueFswXS5wdXNoKHQsIGIsIGFjdGl2ZVRvcCwgYWN0aXZlQm90dG9tKQoJCQkJCQl9CgkJCQkJCWlmIChMUykgewoJCQkJCQkJaWYgKGJsbikgewoJCQkJCQkJCXRoaXMubGVmdCA9IHIgLSB3aWR0aAoJCQkJCQkJCXRoaXMucmlnaHQgPSB0aGlzLnBhcmVudFdpZHRoIC0gdGhpcy5sZWZ0IC0gd2lkdGgKCQkJCQkJCX0KCQkJCQkJCXRlbS52YWx1ZS54WzFdLnB1c2godCwgYiwgYWN0aXZlVG9wLCBhY3RpdmVCb3R0b20pCgkJCQkJCX0KCQkJCQkJaWYgKFJTKSB7CgkJCQkJCQlpZiAoYmxuKSB7CgkJCQkJCQkJdGhpcy5sZWZ0ID0gcgoJCQkJCQkJCXRoaXMucmlnaHQgPSB0aGlzLnBhcmVudFdpZHRoIC0gdGhpcy5sZWZ0IC0gd2lkdGgKCQkJCQkJCX0KCQkJCQkJCXRlbS52YWx1ZS54WzFdLnB1c2godCwgYiwgYWN0aXZlVG9wLCBhY3RpdmVCb3R0b20pCgkJCQkJCX0KCgkJCQkJCWlmIChoYykgewoJCQkJCQkJaWYgKGJsbikgewoJCQkJCQkJCXRoaXMudG9wID0gdCArIGggLyAyIC0gaGVpZ2h0IC8gMgoJCQkJCQkJCXRoaXMuYm90dG9tID0gdGhpcy5wYXJlbnRIZWlnaHQgLSB0aGlzLnRvcCAtIGhlaWdodAoJCQkJCQkJfQoJCQkJCQkJdGVtLnZhbHVlLnlbMl0ucHVzaChsLCByLCBhY3RpdmVMZWZ0LCBhY3RpdmVSaWdodCkKCQkJCQkJfQoJCQkJCQlpZiAodmMpIHsKCQkJCQkJCWlmIChibG4pIHsKCQkJCQkJCQl0aGlzLmxlZnQgPSBsICsgdyAvIDIgLSB3aWR0aCAvIDIKCQkJCQkJCQl0aGlzLnJpZ2h0ID0gdGhpcy5wYXJlbnRXaWR0aCAtIHRoaXMubGVmdCAtIHdpZHRoCgkJCQkJCQl9CgkJCQkJCQl0ZW0udmFsdWUueFsyXS5wdXNoKHQsIGIsIGFjdGl2ZVRvcCwgYWN0aXZlQm90dG9tKQoJCQkJCQl9CgkJCQkJCS8vIOi+heWKqee6v+WdkOagh+S4juaYr+WQpuaYvuekuihkaXNwbGF5KeWvueW6lOeahOaVsOe7hCzmmJPkuo7lvqrnjq/pgY3ljoYKCQkJCQkJY29uc3QgYXJyVGVtID0gWzAsIDEsIDAsIDEsIDIsIDIsIDAsIDEsIDAsIDEsIDIsIDJdCgkJCQkJCWZvciAobGV0IGkgPSAwOyBpIDw9IGFyclRlbS5sZW5ndGg7IGkrKykgewoJCQkJCQkJLy8g5YmNNuS4ulnovoXliqnnur8s5ZCONuS4uljovoXliqnnur8KCQkJCQkJCWNvbnN0IHhvcnkgPSBpIDwgNiA/ICd5JyA6ICd4JwoJCQkJCQkJY29uc3QgaG9ydiA9IGkgPCA2ID8gJ2hMaW5lJyA6ICd2TGluZScKCQkJCQkJCWlmICh0ZW0uZGlzcGxheVtpXSkgewoJCQkJCQkJCWNvbnN0IHsKCQkJCQkJCQkJb3JpZ2luLAoJCQkJCQkJCQlsZW5ndGgKCQkJCQkJCQl9ID0gdGhpcy5jYWxjTGluZVZhbHVlcyh0ZW0udmFsdWVbeG9yeV1bYXJyVGVtW2ldXSkKCQkJCQkJCQlyZWZMaW5lW2hvcnZdW2FyclRlbVtpXV0uZGlzcGxheSA9IHRlbS5kaXNwbGF5W2ldCgkJCQkJCQkJcmVmTGluZVtob3J2XVthcnJUZW1baV1dLnBvc2l0aW9uID0gdGVtLnBvc2l0aW9uW2ldICsgJ3B4JwoJCQkJCQkJCXJlZkxpbmVbaG9ydl1bYXJyVGVtW2ldXS5vcmlnaW4gPSBvcmlnaW4KCQkJCQkJCQlyZWZMaW5lW2hvcnZdW2FyclRlbVtpXV0ubGluZUxlbmd0aCA9IGxlbmd0aAoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJdGhpcy4kZW1pdCgncmVmTGluZVBhcmFtcycsIHJlZkxpbmUpCgkJCX0KCQl9LAoJCWNhbGNMaW5lVmFsdWVzKGFycikgewoJCQljb25zdCBsZW5ndGggPSBNYXRoLm1heCguLi5hcnIpIC0gTWF0aC5taW4oLi4uYXJyKSArICdweCcKCQkJY29uc3Qgb3JpZ2luID0gTWF0aC5taW4oLi4uYXJyKSArICdweCcKCQkJcmV0dXJuIHsKCQkJCWxlbmd0aCwKCQkJCW9yaWdpbgoJCQl9CgkJfSwKCQlhc3luYyBnZXRBY3RpdmVBbGwobm9kZXMpIHsKCQkJY29uc3QgYWN0aXZlQWxsID0gW10KCQkJY29uc3QgWEFycmF5ID0gW10KCQkJY29uc3QgWUFycmF5ID0gW10KCQkJbGV0IGdyb3VwV2lkdGggPSAwCgkJCWxldCBncm91cEhlaWdodCA9IDAKCQkJbGV0IGdyb3VwTGVmdCA9IDAKCQkJbGV0IGdyb3VwVG9wID0gMAoJCQlmb3IgKGxldCBpdGVtIG9mIG5vZGVzKSB7CgkJCQlpZiAoaXRlbS5jbGFzc05hbWUgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmNsYXNzTmFtZS5pbmNsdWRlcyh0aGlzLmNsYXNzTmFtZUFjdGl2ZSkpIHsKCQkJCQlhY3RpdmVBbGwucHVzaChpdGVtKQoJCQkJfQoJCQl9CgkJCWNvbnN0IEFsbExlbmd0aCA9IGFjdGl2ZUFsbC5sZW5ndGgKCQkJaWYgKEFsbExlbmd0aCA+IDEpIHsKCQkJCWZvciAobGV0IGkgb2YgYWN0aXZlQWxsKSB7CgkJCQkJY29uc3QgbCA9IGkub2Zmc2V0TGVmdAoJCQkJCWNvbnN0IHIgPSBsICsgaS5vZmZzZXRXaWR0aAoJCQkJCWNvbnN0IHQgPSBpLm9mZnNldFRvcAoJCQkJCWNvbnN0IGIgPSB0ICsgaS5vZmZzZXRIZWlnaHQKCQkJCQlYQXJyYXkucHVzaCh0LCBiKQoJCQkJCVlBcnJheS5wdXNoKGwsIHIpCgkJCQl9CgkJCQlncm91cFdpZHRoID0gTWF0aC5tYXgoLi4uWUFycmF5KSAtIE1hdGgubWluKC4uLllBcnJheSkKCQkJCWdyb3VwSGVpZ2h0ID0gTWF0aC5tYXgoLi4uWEFycmF5KSAtIE1hdGgubWluKC4uLlhBcnJheSkKCQkJCWdyb3VwTGVmdCA9IE1hdGgubWluKC4uLllBcnJheSkKCQkJCWdyb3VwVG9wID0gTWF0aC5taW4oLi4uWEFycmF5KQoJCQl9CgkJCWNvbnN0IGJsbiA9IEFsbExlbmd0aCA9PT0gMQoJCQlyZXR1cm4gewoJCQkJZ3JvdXBXaWR0aCwKCQkJCWdyb3VwSGVpZ2h0LAoJCQkJZ3JvdXBMZWZ0LAoJCQkJZ3JvdXBUb3AsCgkJCQlibG4KCQkJfQoJCX0sCgkJLy8g5q2j5YiZ6I635Y+WbGVmdOS4jnRvcAoJCWZvcm1hdFRyYW5zZm9ybVZhbChzdHJpbmcpIHsKCQkJbGV0IFtsZWZ0LCB0b3BdID0gc3RyaW5nLnJlcGxhY2UoL1teMC05XC0sXS9nLCAnJykuc3BsaXQoJywnKQoJCQlpZiAodG9wID09PSB1bmRlZmluZWQpIHRvcCA9IDAKCQkJcmV0dXJuIFsrbGVmdCwgK3RvcF0KCQl9Cgl9LAoJY29tcHV0ZWQ6IHsKCQloYW5kbGVTdHlsZSgpIHsKCQkJcmV0dXJuIChzdGljaykgPT4gewoJCQkJaWYgKCF0aGlzLmhhbmRsZUluZm8uc3dpdGNoKSByZXR1cm4gewoJCQkJCWRpc3BsYXk6IHRoaXMuZW5hYmxlZCA/ICdibG9jaycgOiAnbm9uZScKCQkJCX0KCgkJCQljb25zdCBzaXplID0gKHRoaXMuaGFuZGxlSW5mby5zaXplIC8gdGhpcy5zY2FsZVJhdGlvKS50b0ZpeGVkKDIpCgkJCQljb25zdCBvZmZzZXQgPSAodGhpcy5oYW5kbGVJbmZvLm9mZnNldCAvIHRoaXMuc2NhbGVSYXRpbykudG9GaXhlZCgyKQoJCQkJY29uc3QgY2VudGVyID0gKHNpemUgLyAyKS50b0ZpeGVkKDIpCgoJCQkJY29uc3Qgc3R5bGVNYXAgPSB7CgkJCQkJdGw6IHsKCQkJCQkJdG9wOiBgJHtvZmZzZXR9cHhgLAoJCQkJCQlsZWZ0OiBgJHtvZmZzZXR9cHhgCgkJCQkJfSwKCQkJCQl0bTogewoJCQkJCQl0b3A6IGAke29mZnNldH1weGAsCgkJCQkJCWxlZnQ6IGBjYWxjKDUwJSAtICR7Y2VudGVyfXB4KWAKCQkJCQl9LAoJCQkJCXRyOiB7CgkJCQkJCXRvcDogYCR7b2Zmc2V0fXB4YCwKCQkJCQkJcmlnaHQ6IGAke29mZnNldH1weGAKCQkJCQl9LAoJCQkJCW1yOiB7CgkJCQkJCXRvcDogYGNhbGMoNTAlIC0gJHtjZW50ZXJ9cHgpYCwKCQkJCQkJcmlnaHQ6IGAke29mZnNldH1weGAKCQkJCQl9LAoJCQkJCWJyOiB7CgkJCQkJCWJvdHRvbTogYCR7b2Zmc2V0fXB4YCwKCQkJCQkJcmlnaHQ6IGAke29mZnNldH1weGAKCQkJCQl9LAoJCQkJCWJtOiB7CgkJCQkJCWJvdHRvbTogYCR7b2Zmc2V0fXB4YCwKCQkJCQkJcmlnaHQ6IGBjYWxjKDUwJSAtICR7Y2VudGVyfXB4KWAKCQkJCQl9LAoJCQkJCWJsOiB7CgkJCQkJCWJvdHRvbTogYCR7b2Zmc2V0fXB4YCwKCQkJCQkJbGVmdDogYCR7b2Zmc2V0fXB4YAoJCQkJCX0sCgkJCQkJbWw6IHsKCQkJCQkJdG9wOiBgY2FsYyg1MCUgLSAke2NlbnRlcn1weClgLAoJCQkJCQlsZWZ0OiBgJHtvZmZzZXR9cHhgCgkJCQkJfQoJCQkJfQoJCQkJY29uc3Qgc3RpY2tTdHlsZSA9IHsKCQkJCQl3aWR0aDogYCR7c2l6ZX1weGAsCgkJCQkJaGVpZ2h0OiBgJHtzaXplfXB4YCwKCQkJCQl0b3A6IHN0eWxlTWFwW3N0aWNrXS50b3AsCgkJCQkJbGVmdDogc3R5bGVNYXBbc3RpY2tdLmxlZnQsCgkJCQkJcmlnaHQ6IHN0eWxlTWFwW3N0aWNrXS5yaWdodCwKCQkJCQlib3R0b206IHN0eWxlTWFwW3N0aWNrXS5ib3R0b20KCQkJCX0KCQkJCXN0aWNrU3R5bGUuZGlzcGxheSA9IHRoaXMuZW5hYmxlZCA/ICdibG9jaycgOiAnbm9uZScKCQkJCXJldHVybiBzdGlja1N0eWxlCgkJCX0KCQl9LAoJCXN0eWxlKCkgewoJCQlyZXR1cm4gewoJCQkJdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy5sZWZ0fXB4LCAke3RoaXMudG9wfXB4KWAsCgkJCQl3aWR0aDogdGhpcy5jb21wdXRlZFdpZHRoLAoJCQkJaGVpZ2h0OiB0aGlzLmNvbXB1dGVkSGVpZ2h0LAoJCQkJJ2JhY2tncm91bmQtY29sb3InOiB0aGlzLmJnQ2xyLAoJCQkJJ2JhY2tncm91bmQtaW1hZ2UnOiBgdXJsKCR7IHRoaXMuYmdJbWFnZSB9KWAsCgkJCQknYmFja2dyb3VuZC1zaXplJzogdGhpcy5iZ1NpemUgfHwgJzEwMCUgMTAwJScsCgkJCQl6SW5kZXg6IHRoaXMuekluZGV4LAoJCQkJLi4uKHRoaXMuZHJhZ2dpbmcgJiYgdGhpcy5kaXNhYmxlVXNlclNlbGVjdCA/IHVzZXJTZWxlY3ROb25lIDogdXNlclNlbGVjdEF1dG8pCgkJCX0KCQl9LAoJCS8vIOaOp+WItuafhOaYvuekuuS4juWQpgoJCWFjdHVhbEhhbmRsZXMoKSB7CgkJCWlmICghdGhpcy5yZXNpemFibGUpIHJldHVybiBbXQoKCQkJcmV0dXJuIHRoaXMuaGFuZGxlcwoJCX0sCgkJY29tcHV0ZWRXaWR0aCgpIHsKCQkJaWYgKHRoaXMudyA9PT0gJ2F1dG8nKSB7CgkJCQlpZiAoIXRoaXMud2lkdGhUb3VjaGVkKSB7CgkJCQkJcmV0dXJuICdhdXRvJwoJCQkJfQoJCQl9CgkJCXJldHVybiB0aGlzLndpZHRoICsgJ3B4JwoJCX0sCgkJY29tcHV0ZWRIZWlnaHQoKSB7CgkJCWlmICh0aGlzLmggPT09ICdhdXRvJykgewoJCQkJaWYgKCF0aGlzLmhlaWdodFRvdWNoZWQpIHsKCQkJCQlyZXR1cm4gJ2F1dG8nCgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRoaXMuaGVpZ2h0ICsgJ3B4JwoJCX0sCgkJcmVzaXppbmdPblgoKSB7CgkJCXJldHVybiAoQm9vbGVhbih0aGlzLmhhbmRsZSkgJiYgKHRoaXMuaGFuZGxlLmluY2x1ZGVzKCdsJykgfHwgdGhpcy5oYW5kbGUuaW5jbHVkZXMoJ3InKSkpCgkJfSwKCQlyZXNpemluZ09uWSgpIHsKCQkJcmV0dXJuIChCb29sZWFuKHRoaXMuaGFuZGxlKSAmJiAodGhpcy5oYW5kbGUuaW5jbHVkZXMoJ3QnKSB8fCB0aGlzLmhhbmRsZS5pbmNsdWRlcygnYicpKSkKCQl9LAoJCWlzQ29ybmVySGFuZGxlKCkgewoJCQlyZXR1cm4gKEJvb2xlYW4odGhpcy5oYW5kbGUpICYmIFsndGwnLCAndHInLCAnYnInLCAnYmwnXS5pbmNsdWRlcyh0aGlzLmhhbmRsZSkpCgkJfQoJfSwKCgl3YXRjaDogewoJCWFjdGl2ZSh2YWwpIHsKCQkJdGhpcy5lbmFibGVkID0gdmFsCgoJCQlpZiAodmFsKSB7CgkJCQl0aGlzLiRlbWl0KCdhY3RpdmF0ZWQnKQoJCQl9IGVsc2UgewoJCQkJdGhpcy4kZW1pdCgnZGVhY3RpdmF0ZWQnKQoJCQl9CgkJfSwKCQl6KHZhbCkgewoJCQlpZiAodmFsID49IDAgfHwgdmFsID09PSAnYXV0bycpIHsKCQkJCXRoaXMuekluZGV4ID0gdmFsCgkJCX0KCQl9LAoJCXgodmFsKSB7CgkJCWlmICh0aGlzLnJlc2l6aW5nIHx8IHRoaXMuZHJhZ2dpbmcpIHsKCQkJCXJldHVybgoJCQl9CgoJCQlpZiAodGhpcy5wYXJlbnQpIHsKCQkJCXRoaXMuYm91bmRzID0gdGhpcy5jYWxjRHJhZ0xpbWl0cygpCgkJCX0KCgkJCXRoaXMubW92ZUhvcml6b250YWxseSh2YWwpCgkJfSwKCQl5KHZhbCkgewoJCQlpZiAodGhpcy5yZXNpemluZyB8fCB0aGlzLmRyYWdnaW5nKSB7CgkJCQlyZXR1cm4KCQkJfQoKCQkJaWYgKHRoaXMucGFyZW50KSB7CgkJCQl0aGlzLmJvdW5kcyA9IHRoaXMuY2FsY0RyYWdMaW1pdHMoKQoJCQl9CgoJCQl0aGlzLm1vdmVWZXJ0aWNhbGx5KHZhbCkKCQl9LAoJCWxvY2tBc3BlY3RSYXRpbyh2YWwpIHsKCQkJaWYgKHZhbCkgewoJCQkJdGhpcy5hc3BlY3RGYWN0b3IgPSB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQKCQkJfSBlbHNlIHsKCQkJCXRoaXMuYXNwZWN0RmFjdG9yID0gdW5kZWZpbmVkCgkJCX0KCQl9LAoJCW1pbldpZHRoKHZhbCkgewoJCQlpZiAodmFsID4gMCAmJiB2YWwgPD0gdGhpcy53aWR0aCkgewoJCQkJdGhpcy5taW5XID0gdmFsCgkJCX0KCQl9LAoJCW1pbkhlaWdodCh2YWwpIHsKCQkJaWYgKHZhbCA+IDAgJiYgdmFsIDw9IHRoaXMuaGVpZ2h0KSB7CgkJCQl0aGlzLm1pbkggPSB2YWwKCQkJfQoJCX0sCgkJbWF4V2lkdGgodmFsKSB7CgkJCXRoaXMubWF4VyA9IHZhbAoJCX0sCgkJbWF4SGVpZ2h0KHZhbCkgewoJCQl0aGlzLm1heEggPSB2YWwKCQl9LAoJCXcodmFsKSB7CgkJCWlmICh0aGlzLnJlc2l6aW5nIHx8IHRoaXMuZHJhZ2dpbmcpIHsKCQkJCXJldHVybgoJCQl9CgoJCQlpZiAodGhpcy5wYXJlbnQpIHsKCQkJCXRoaXMuYm91bmRzID0gdGhpcy5jYWxjUmVzaXplTGltaXRzKCkKCQkJfQoKCQkJdGhpcy5jaGFuZ2VXaWR0aCh2YWwpCgkJfSwKCQloKHZhbCkgewoJCQlpZiAodGhpcy5yZXNpemluZyB8fCB0aGlzLmRyYWdnaW5nKSB7CgkJCQlyZXR1cm4KCQkJfQoKCQkJaWYgKHRoaXMucGFyZW50KSB7CgkJCQl0aGlzLmJvdW5kcyA9IHRoaXMuY2FsY1Jlc2l6ZUxpbWl0cygpCgkJCX0KCgkJCXRoaXMuY2hhbmdlSGVpZ2h0KHZhbCkKCQl9Cgl9Cn0K"},null]}