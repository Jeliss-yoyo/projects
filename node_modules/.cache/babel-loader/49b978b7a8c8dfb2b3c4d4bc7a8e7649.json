{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\utils\\resizable\\dom.js","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\utils\\resizable\\dom.js","mtime":1610434846269},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1607477892317}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2Zucyc7IC8vIOWwhumAieaLqeWZqOS4jueItuWFg+e0oOWMuemFjQoKZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvclRvUGFyZW50RWxlbWVudHMoZWwsIHNlbGVjdG9yLCBiYXNlTm9kZSkgewogIHZhciBub2RlID0gZWw7CiAgdmFyIG1hdGNoZXNTZWxlY3RvckZ1bmMgPSBbJ21hdGNoZXMnLCAnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJywgJ21vek1hdGNoZXNTZWxlY3RvcicsICdtc01hdGNoZXNTZWxlY3RvcicsICdvTWF0Y2hlc1NlbGVjdG9yJ10uZmluZChmdW5jdGlvbiAoZnVuYykgewogICAgcmV0dXJuIGlzRnVuY3Rpb24obm9kZVtmdW5jXSk7CiAgfSk7CiAgaWYgKCFpc0Z1bmN0aW9uKG5vZGVbbWF0Y2hlc1NlbGVjdG9yRnVuY10pKSByZXR1cm4gZmFsc2U7CgogIGRvIHsKICAgIGlmIChub2RlW21hdGNoZXNTZWxlY3RvckZ1bmNdKHNlbGVjdG9yKSkgcmV0dXJuIHRydWU7CiAgICBpZiAobm9kZSA9PT0gYmFzZU5vZGUpIHJldHVybiBmYWxzZTsKICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CiAgfSB3aGlsZSAobm9kZSk7CgogIHJldHVybiBmYWxzZTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTaXplKCRlbCkgewogIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCRlbCk7CiAgcmV0dXJuIFtwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJyksIDEwKSwgcGFyc2VGbG9hdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSwgMTApXTsKfSAvLyDmt7vliqDkuovku7YKCmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudChlbCwgZXZlbnQsIGhhbmRsZXIpIHsKICBpZiAoIWVsKSB7CiAgICByZXR1cm47CiAgfQoKICBpZiAoZWwuYXR0YWNoRXZlbnQpIHsKICAgIGVsLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgaGFuZGxlcik7CiAgfSBlbHNlIGlmIChlbC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCB0cnVlKTsKICB9IGVsc2UgewogICAgZWxbJ29uJyArIGV2ZW50XSA9IGhhbmRsZXI7CiAgfQp9IC8vIOWIoOmZpOS6i+S7tgoKZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVsLCBldmVudCwgaGFuZGxlcikgewogIGlmICghZWwpIHsKICAgIHJldHVybjsKICB9CgogIGlmIChlbC5kZXRhY2hFdmVudCkgewogICAgZWwuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBoYW5kbGVyKTsKICB9IGVsc2UgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIHRydWUpOwogIH0gZWxzZSB7CiAgICBlbFsnb24nICsgZXZlbnRdID0gbnVsbDsKICB9Cn0="},{"version":3,"sources":["D:/workspace/HBuilderX/SF-Team/nkplat-design/src/utils/resizable/dom.js"],"names":["isFunction","matchesSelectorToParentElements","el","selector","baseNode","node","matchesSelectorFunc","find","func","parentNode","getComputedSize","$el","style","window","getComputedStyle","parseFloat","getPropertyValue","addEvent","event","handler","attachEvent","addEventListener","removeEvent","detachEvent","removeEventListener"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B,C,CAEA;;AACA,OAAO,SAASC,+BAAT,CAA0CC,EAA1C,EAA8CC,QAA9C,EAAwDC,QAAxD,EAAkE;AACvE,MAAIC,IAAI,GAAGH,EAAX;AAEA,MAAMI,mBAAmB,GAAG,CAC1B,SAD0B,EAE1B,uBAF0B,EAG1B,oBAH0B,EAI1B,mBAJ0B,EAK1B,kBAL0B,EAM1BC,IAN0B,CAMrB,UAAAC,IAAI;AAAA,WAAIR,UAAU,CAACK,IAAI,CAACG,IAAD,CAAL,CAAd;AAAA,GANiB,CAA5B;AAQA,MAAI,CAACR,UAAU,CAACK,IAAI,CAACC,mBAAD,CAAL,CAAf,EAA4C,OAAO,KAAP;;AAE5C,KAAG;AACD,QAAID,IAAI,CAACC,mBAAD,CAAJ,CAA0BH,QAA1B,CAAJ,EAAyC,OAAO,IAAP;AACzC,QAAIE,IAAI,KAAKD,QAAb,EAAuB,OAAO,KAAP;AACvBC,IAAAA,IAAI,GAAGA,IAAI,CAACI,UAAZ;AACD,GAJD,QAISJ,IAJT;;AAMA,SAAO,KAAP;AACD;AAED,OAAO,SAASK,eAAT,CAA0BC,GAA1B,EAA+B;AACpC,MAAMC,KAAK,GAAGC,MAAM,CAACC,gBAAP,CAAwBH,GAAxB,CAAd;AAEA,SAAO,CACLI,UAAU,CAACH,KAAK,CAACI,gBAAN,CAAuB,OAAvB,CAAD,EAAkC,EAAlC,CADL,EAELD,UAAU,CAACH,KAAK,CAACI,gBAAN,CAAuB,QAAvB,CAAD,EAAmC,EAAnC,CAFL,CAAP;AAID,C,CACD;;AACA,OAAO,SAASC,QAAT,CAAmBf,EAAnB,EAAuBgB,KAAvB,EAA8BC,OAA9B,EAAuC;AAC5C,MAAI,CAACjB,EAAL,EAAS;AACP;AACD;;AACD,MAAIA,EAAE,CAACkB,WAAP,EAAoB;AAClBlB,IAAAA,EAAE,CAACkB,WAAH,CAAe,OAAOF,KAAtB,EAA6BC,OAA7B;AACD,GAFD,MAEO,IAAIjB,EAAE,CAACmB,gBAAP,EAAyB;AAC9BnB,IAAAA,EAAE,CAACmB,gBAAH,CAAoBH,KAApB,EAA2BC,OAA3B,EAAoC,IAApC;AACD,GAFM,MAEA;AACLjB,IAAAA,EAAE,CAAC,OAAOgB,KAAR,CAAF,GAAmBC,OAAnB;AACD;AACF,C,CAED;;AACA,OAAO,SAASG,WAAT,CAAsBpB,EAAtB,EAA0BgB,KAA1B,EAAiCC,OAAjC,EAA0C;AAC/C,MAAI,CAACjB,EAAL,EAAS;AACP;AACD;;AACD,MAAIA,EAAE,CAACqB,WAAP,EAAoB;AAClBrB,IAAAA,EAAE,CAACqB,WAAH,CAAe,OAAOL,KAAtB,EAA6BC,OAA7B;AACD,GAFD,MAEO,IAAIjB,EAAE,CAACsB,mBAAP,EAA4B;AACjCtB,IAAAA,EAAE,CAACsB,mBAAH,CAAuBN,KAAvB,EAA8BC,OAA9B,EAAuC,IAAvC;AACD,GAFM,MAEA;AACLjB,IAAAA,EAAE,CAAC,OAAOgB,KAAR,CAAF,GAAmB,IAAnB;AACD;AACF","sourcesContent":["import { isFunction } from './fns'\n\n// 将选择器与父元素匹配\nexport function matchesSelectorToParentElements (el, selector, baseNode) {\n  let node = el\n\n  const matchesSelectorFunc = [\n    'matches',\n    'webkitMatchesSelector',\n    'mozMatchesSelector',\n    'msMatchesSelector',\n    'oMatchesSelector'\n  ].find(func => isFunction(node[func]))\n\n  if (!isFunction(node[matchesSelectorFunc])) return false\n\n  do {\n    if (node[matchesSelectorFunc](selector)) return true\n    if (node === baseNode) return false\n    node = node.parentNode\n  } while (node)\n\n  return false\n}\n\nexport function getComputedSize ($el) {\n  const style = window.getComputedStyle($el)\n\n  return [\n    parseFloat(style.getPropertyValue('width'), 10),\n    parseFloat(style.getPropertyValue('height'), 10)\n  ]\n}\n// 添加事件\nexport function addEvent (el, event, handler) {\n  if (!el) {\n    return\n  }\n  if (el.attachEvent) {\n    el.attachEvent('on' + event, handler)\n  } else if (el.addEventListener) {\n    el.addEventListener(event, handler, true)\n  } else {\n    el['on' + event] = handler\n  }\n}\n\n// 删除事件\nexport function removeEvent (el, event, handler) {\n  if (!el) {\n    return\n  }\n  if (el.detachEvent) {\n    el.detachEvent('on' + event, handler)\n  } else if (el.removeEventListener) {\n    el.removeEventListener(event, handler, true)\n  } else {\n    el['on' + event] = null\n  }\n}\n"]}]}