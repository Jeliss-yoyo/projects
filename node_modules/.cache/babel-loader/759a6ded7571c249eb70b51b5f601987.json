{"remainingRequest":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\panel-right\\config-items\\DataSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\src\\components\\layout\\panel-right\\config-items\\DataSetting.vue","mtime":1578620372262},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\babel-loader\\lib\\index.js","mtime":1607477892317},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1585119190579},{"path":"D:\\workspace\\HBuilderX\\SF-Team\\nkplat-design\\node_modules\\vue-loader\\lib\\index.js","mtime":1609899827306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovd29ya3NwYWNlL0hCdWlsZGVyWC9TRi1UZWFtL25rcGxhdC1kZXNpZ24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlRXZlbnQgZnJvbSAnQC9hc3NldHMvZGVzaWduL2pzL3Z1ZS1ldmVudC5qcyc7CmltcG9ydCAkdG9vbHMgZnJvbSAnQC9hc3NldHMvZGVzaWduL2pzL3Rvb2xzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmlbDmja7mupAKICAgICAgZGF0YVNvdXJjZTogewogICAgICAgIC8vIDAg6KGo56S66Z2Z5oCB5pWw5o2uOyAxIOihqOekuuaOpeWPo+aVsOaNrgogICAgICAgIHR5cGU6IDAsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgc3JjVXJsOiAnJywKICAgICAgICBhdXRvVXBkYXRlOiBmYWxzZSwKICAgICAgICBpbnRlcnZhbDogMzAsCiAgICAgICAgZGF0YTogJycKICAgICAgfSwKICAgICAgaXNHZW5lcmFsOiBmYWxzZSwKICAgICAgLy8g5Li05pe25pWw5o2u5a2Y5YKoCiAgICAgIHRlbXBEYXRhOiAnJywKICAgICAgLy8g5Zu+6KGo57G75Z6LCiAgICAgIGNoYXJ0VHlwZTogJycsCiAgICAgIC8vIGVjaGFydHMg5bGe5oCn5a+56LGhCiAgICAgIGVsZW1FY09wdHM6IHt9LAogICAgICAvLyDmv4DmtLvlhYPntKDnmoRJRAogICAgICBlbGVtSUQ6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOivt+axguaOpeWPo+aVsOaNrgogICAgdGhpcy5yZXF1ZXN0RGF0YSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgVnVlRXZlbnQuJG9uKCckd2VicHB0LWRhdGEnLCBmdW5jdGlvbiAod2VicHB0KSB7CiAgICAgIHZhciBhY3RpdmUgPSAkdG9vbHMuYWZ4R2V0QWN0aXZlRWxlbS5jYWxsKF90aGlzLCB3ZWJwcHQpOwogICAgICBfdGhpcy5pc0dlbmVyYWwgPSBhY3RpdmUuZWxlbUNwbnRUeXBlID09PSAnZ2VuZXJhbCc7CiAgICAgIGlmICghYWN0aXZlIHx8IF90aGlzLmlzR2VuZXJhbCkgcmV0dXJuOwogICAgICBfdGhpcy5lbGVtSUQgPSBhY3RpdmUuZWxlbUlEOwogICAgICBfdGhpcy5lbGVtRWNPcHRzID0gYWN0aXZlLmVsZW1FY09wdHM7CiAgICAgIF90aGlzLmRhdGFTb3VyY2UgPSBhY3RpdmUuZWxlbURhdGFTcmM7CiAgICAgIHZhciBlY0RhdGEgPSAkLmVjaGFydHNEYXRhW190aGlzLmVsZW1JRF07CiAgICAgIF90aGlzLmRhdGFTb3VyY2UuZGF0YSA9IGVjRGF0YTsKICAgICAgX3RoaXMuY2hhcnRUeXBlID0gYWN0aXZlLnNsaWRlLmNvbnRleHRbX3RoaXMuZWxlbUlEXS5jaGFydFR5cGU7CiAgICAgIF90aGlzLnRlbXBEYXRhID0gSlNPTi5zdHJpbmdpZnkoZWNEYXRhLCBudWxsLCAnCScpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliLfmlrDmlbDmja4KICAgIHVwZGF0ZURhdGE6IGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g6I635Y+WIGVjaGFydHMg5bel5YW357G7CiAgICAgIHZhciAkZXQgPSAkdG9vbHMuZWNoYXJ0c1Rvb2xzKCk7IC8vIOW9k+WJjemdmeaAgeaVsOaNruWvueixoQoKICAgICAgdmFyIHN0YXRpY0RhdGEgPSBKU09OLnBhcnNlKHRoaXMudGVtcERhdGEpOyAvLyDmiYvliqjmm7TmlrBlY2hhcnRz5pWw5o2u5LuT5bqTCgogICAgICAkLmVjaGFydHNEYXRhW3RoaXMuZWxlbUlEXSA9IHN0YXRpY0RhdGE7IC8vIOiOt+WPluW9k+WJjeWbvuihqOWvueixoQoKICAgICAgdmFyIGVjaGFydCA9ICQuZWNJbml0T2Jqc1t0aGlzLmVsZW1JRF07IC8vIOaVsOaNruWkhOeQhuaWueazlQoKICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oZCkgewogICAgICAgICQuZWNoYXJ0c0RhdGFbX3RoaXMyLmVsZW1JRF0gPSBkOyAvLyDlsZ7mgKfkuI7mlbDmja7nu5HlrpoKCiAgICAgICAgdmFyICRvcHRzID0gJGV0LmRhdGFGaWxsaW5nKF90aGlzMi5jaGFydFR5cGUsIF90aGlzMi5lbGVtRWNPcHRzLCBkKTsgLy8g57yT5a2Y5b2T5YmNIGVjaGFydHMg55qE5bGe5oCn5a+56LGhCgogICAgICAgIF90aGlzMi5lbGVtRWNPcHRzID0gJG9wdHM7IC8vIOWbvuihqOa4suafkwoKICAgICAgICAkZXQucmVuZGVyKGVjaGFydCwgJG9wdHMpOwogICAgICB9OyAvLyDmjqXlj6PmlbDmja7liLfmlrAgJiDpnZnmgIHmlbDmja7liLfmlrAKCgogICAgICB0aGlzLmRhdGFTb3VyY2UudHlwZSA/IHRoaXMucmVxdWVzdERhdGEoZnVuY3Rpb24gKCRkYXRhKSB7CiAgICAgICAgcmV0dXJuIGZuKCRkYXRhKTsKICAgICAgfSkgOiBmbihzdGF0aWNEYXRhKTsKICAgIH0sCiAgICAvLyDmjqXlj6PmlbDmja7or7fmsYLmlrnms5UKICAgIHJlcXVlc3REYXRhOiBmdW5jdGlvbiByZXF1ZXN0RGF0YShjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlcywgc3JjVXJsLCBtZXRob2QsIHR5cGUsIF95aWVsZCRfdGhpczMkJGh0dHAkbSwgZGF0YSwgJGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcyA9IG51bGwsIHNyY1VybCA9IF90aGlzMy5kYXRhU291cmNlLnNyY1VybCwgbWV0aG9kID0gX3RoaXMzLmRhdGFTb3VyY2UubWV0aG9kIHx8ICdwb3N0JywgdHlwZSA9IF90aGlzMy5kYXRhU291cmNlLnR5cGU7CgogICAgICAgICAgICAgICAgaWYgKCEodHlwZSAmJiBzcmNVcmwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRodHRwW21ldGhvZF0oc3JjVXJsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyQkaHR0cCRtID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMzJCRodHRwJG0uZGF0YTsKICAgICAgICAgICAgICAgICRkYXRhID0gZGF0YS5kYXRhSW5mby5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzLmRhdGFTb3VyY2UuZGF0YSA9ICRkYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzLnRlbXBEYXRhID0gSlNPTi5zdHJpbmdpZnkoJGRhdGEsIG51bGwsICcJJyk7CiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygkZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8ganNvbiDnvo7ljJYKICAgIGpzb25Gb3JtYXR0ZXI6IGZ1bmN0aW9uIGpzb25Gb3JtYXR0ZXIoKSB7CiAgICAgIHRoaXMudGVtcERhdGEgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRoaXMudGVtcERhdGEpLCBudWxsLCAnCScpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DataSetting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<!-- 数据配置组件 -->\r\n\t<div class=\"data-setting\">\r\n\t\t<el-form v-show=\"!isGeneral\" ref=\"form\" :model=\"dataSource\" label-width=\"100px\">\r\n\t\t\t<table class=\"field-config\" cellspacing=\"5\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>字段</th>\r\n\t\t\t\t\t<th>映射</th>\r\n\t\t\t\t\t<th>状态</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"left\">legend</td>\r\n\t\t\t\t\t<td><el-input class=\"custom-field\" type=\"text\" placeholder=\"可自定义\"></el-input></td>\r\n\t\t\t\t\t<td><i class=\"el-icon-success isActive\"></i></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"left\">xAxis</td>\r\n\t\t\t\t\t<td><el-input class=\"custom-field\" type=\"text\" placeholder=\"可自定义\"></el-input></td>\r\n\t\t\t\t\t<td><i class=\"el-icon-success isActive\"></i></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td align=\"left\">series</td>\r\n\t\t\t\t\t<td><el-input class=\"custom-field\" type=\"text\" placeholder=\"可自定义\"></el-input></td>\r\n\t\t\t\t\t<td><i class=\"el-icon-success isActive\"></i></td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t\t\r\n\t\t\t<el-form-item label=\"数据源类型\">\r\n\t\t\t\t<el-select v-model=\"dataSource.type\">\r\n\t\t\t\t\t<el-option label=\"静态数据\" :value=\"0\"></el-option>\r\n\t\t\t\t\t<el-option label=\"接口数据\" :value=\"1\"></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t\r\n\t\t\t<!-- 接口数据 -->\r\n\t\t\t<div v-show=\"dataSource.type == 1\" class=\"data-wrap\">\r\n\t\t\t\t<el-form-item label=\"接口地址\">\r\n\t\t\t\t\t<el-input type=\"text\" v-model=\"dataSource.srcUrl\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"请求方式\">\r\n\t\t\t\t\t<el-select v-model=\"dataSource.method\">\r\n\t\t\t\t\t\t<el-option label=\"POST\" value=\"post\"></el-option>\r\n\t\t\t\t\t\t<el-option label=\"GET\" value=\"get\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"自动更新请求\">\r\n\t\t\t\t\t<el-switch v-model=\"dataSource.autoUpdate\" active-text=\"启用\" inactive-text=\"禁用\"></el-switch>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item v-show=\"dataSource.autoUpdate\" label=\"请求间隔(s)\">\r\n\t\t\t\t\t<el-input type=\"number\" v-model=\"dataSource.interval\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 静态数据 -->\r\n\t\t\t<div v-show=\"dataSource.type == 0\" class=\"data-wrap\">\r\n\t\t\t\t<el-input class=\"temp-data\" type=\"textarea\" :rows=\"20\" v-model=\"tempData\"></el-input>\r\n\t\t\t\t<!-- 按钮 -->\r\n\t\t\t\t<span class=\"custom-button\" @click=\"jsonFormatter()\"> 数据美化 </span>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- 按钮 -->\r\n\t\t\t<span class=\"custom-button\" @click=\"updateData()\"> 刷新 & 应用 </span>\r\n\t\t</el-form>\r\n\t</div>\n</template>\n\n<script>\r\n\timport VueEvent from '@/assets/design/js/vue-event.js';\r\n\timport $tools from '@/assets/design/js/tools.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 数据源\r\n\t\t\t\tdataSource: {\r\n\t\t\t\t\t// 0 表示静态数据; 1 表示接口数据\r\n\t\t\t\t\ttype: 0, \r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tsrcUrl: '',\r\n\t\t\t\t\tautoUpdate: false,\r\n\t\t\t\t\tinterval: 30,\r\n\t\t\t\t\tdata: ''\r\n\t\t\t\t},\r\n\t\t\t\tisGeneral: false,\r\n\t\t\t\t// 临时数据存储\r\n\t\t\t\ttempData: '',\r\n\t\t\t\t// 图表类型\r\n\t\t\t\tchartType: '',\r\n\t\t\t\t// echarts 属性对象\r\n\t\t\t\telemEcOpts: {},\r\n\t\t\t\t// 激活元素的ID\r\n\t\t\t\telemID: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 请求接口数据\r\n\t\t\tthis.requestData();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tVueEvent.$on('$webppt-data', webppt => {\r\n\t\t\t\tlet active = $tools.afxGetActiveElem.call(this, webppt);\r\n\t\t\t\tthis.isGeneral = active.elemCpntType === 'general';\r\n\t\t\t\tif(!active || this.isGeneral) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.elemID = active.elemID;\r\n\t\t\t\tthis.elemEcOpts = active.elemEcOpts;\r\n\t\t\t\tthis.dataSource = active.elemDataSrc;\r\n\t\t\t\tlet ecData = $.echartsData[this.elemID];\r\n\t\t\t\tthis.dataSource.data = ecData;\r\n\t\t\t\tthis.chartType = active.slide.context[this.elemID].chartType;\r\n\t\t\t\tthis.tempData = JSON.stringify(ecData, null, '\t');\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 刷新数据\r\n\t\t\tupdateData() {\r\n\t\t\t\t// 获取 echarts 工具类\r\n\t\t\t\tlet $et = $tools.echartsTools();\r\n\t\t\t\t// 当前静态数据对象\r\n\t\t\t\tlet staticData = JSON.parse(this.tempData);\r\n\t\t\t\t// 手动更新echarts数据仓库\r\n\t\t\t\t$.echartsData[this.elemID] = staticData;\r\n\t\t\t\t// 获取当前图表对象\r\n\t\t\t\tlet echart = $.ecInitObjs[this.elemID];\r\n\t\t\t\t// 数据处理方法\r\n\t\t\t\tconst fn = d => {\r\n\t\t\t\t\t$.echartsData[this.elemID] = d;\r\n\t\t\t\t\t// 属性与数据绑定\r\n\t\t\t\t\tlet $opts = $et.dataFilling(this.chartType, this.elemEcOpts, d);\r\n\t\t\t\t\t// 缓存当前 echarts 的属性对象\r\n\t\t\t\t\tthis.elemEcOpts = $opts;\r\n\t\t\t\t\t// 图表渲染\r\n\t\t\t\t\t$et.render(echart, $opts);\r\n\t\t\t\t}\r\n\t\t\t\t// 接口数据刷新 & 静态数据刷新\r\n\t\t\t\tthis.dataSource.type ? this.requestData($data => fn($data)) : fn(staticData)\r\n\t\t\t},\r\n\t\t\t// 接口数据请求方法\r\n\t\t\tasync requestData(callback) {\r\n\t\t\t\tconst res = null,\r\n\t\t\t\t\tsrcUrl = this.dataSource.srcUrl,\r\n\t\t\t\t\tmethod = this.dataSource.method || 'post',\r\n\t\t\t\t\ttype   = this.dataSource.type;\r\n\t\t\t\tif(type && srcUrl) {\r\n\t\t\t\t\tconst { data } = await this.$http[method](srcUrl);\r\n\t\t\t\t\tconst $data = data.dataInfo.data;\r\n\t\t\t\t\tthis.dataSource.data = $data;\r\n\t\t\t\t\tthis.tempData = JSON.stringify($data, null, '\t');\r\n\t\t\t\t\tcallback && callback($data);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// json 美化\r\n\t\t\tjsonFormatter() {\r\n\t\t\t\tthis.tempData = JSON.stringify(JSON.parse(this.tempData), null, '\t');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\t.field-config {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #ccc;\r\n\t\tmargin-bottom: 20px;\r\n\t\t.custom-field {\r\n\t\t\twidth: 80%;\r\n\t\t}\r\n\t\ttr {\r\n\t\t\tline-height: 1.8;\r\n\t\t}\r\n\t}\r\n\t.isActive {\r\n\t\tcolor: #00bef7;\r\n\t}\r\n\t.temp-data {\r\n\t\tmargin: 20px 0 20px 0;\r\n\t}\r\n\t/* 自定义按钮 */\r\n\t.custom-button {\r\n\t    display: inline-block;\r\n\t    width: 80%;\r\n\t    cursor: pointer;\r\n\t    margin: 10px auto;\r\n\t    height: 30px;\r\n\t    line-height: 30px;\r\n\t    text-align: center;\r\n\t    font-size: 14px;\r\n\t    color: #00adff;\r\n\t    border: 1px #00adff solid;\r\n\t}\r\n\t/*滚动条样式*/\r\n\t.el-textarea {\r\n\t\tdiv::-webkit-scrollbar{\r\n\t\t    width: 8px;     \r\n\t\t    height: 1px;\r\n\t\t\tbackground-color:#9d9d9d;\r\n\t\t}\r\n\t\tdiv::-webkit-scrollbar-thumb{\r\n\t\t    border-radius: 10px;\r\n\t\t    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n\t\t    background-color: #535353;\r\n\t\t}\r\n\t\tdiv::-webkit-scrollbar-track{\r\n\t\t    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n\t\t    border-radius: 10px;\r\n\t\t    background-color: #ededed;\r\n\t\t}\r\n\t}\r\n\t\r\n</style>\n"],"sourceRoot":"src/components/layout/panel-right/config-items"}]}